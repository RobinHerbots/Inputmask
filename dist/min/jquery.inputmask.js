/*
 Input Mask plugin for jquery
 http://github.com/RobinHerbots/jquery.inputmask
 Copyright (c) 2010 - 2014 Robin Herbots
 Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
 Version: 3.0.61
*/
(function(f){"function"===typeof define&&define.amd?define("jquery.inputmask",["jquery"],f):f(jQuery)})(function(f){if(void 0===f.fn.inputmask){var T=function(f){var e=document.createElement("input");f="on"+f;var c=f in e;c||(e.setAttribute(f,"return;"),c="function"==typeof e[f]);return c},D=function(b,e,c){return(b=c.aliases[b])?(b.alias&&D(b.alias,void 0,c),f.extend(!0,c,b),f.extend(!0,c,e),!0):!1},J=function(b,e){function c(c){function f(c,e,b,g){this.matches=[];this.isGroup=c||!1;this.isOptional=
e||!1;this.isQuantifier=b||!1;this.isAlternator=g||!1;this.quantifier={min:1,max:1}}function e(c,f,g){var k=b.definitions[f],l=0==c.matches.length;g=void 0!=g?g:c.matches.length;if(k&&!y){for(var m=k.prevalidator,v=m?m.length:0,u=1;u<k.cardinality;u++){var t=v>=u?m[u-1]:[],w=t.validator,t=t.cardinality;c.matches.splice(g++,0,{fn:w?"string"==typeof w?RegExp(w):new function(){this.test=w}:/./,cardinality:t?t:1,optionality:c.isOptional,newBlockMarker:l,casing:k.casing,def:k.definitionSymbol||f,placeholder:k.placeholder,
mask:f})}c.matches.splice(g++,0,{fn:k.validator?"string"==typeof k.validator?RegExp(k.validator):new function(){this.test=k.validator}:/./,cardinality:k.cardinality,optionality:c.isOptional,newBlockMarker:l,casing:k.casing,def:k.definitionSymbol||f,placeholder:k.placeholder,mask:f})}else c.matches.splice(g++,0,{fn:null,cardinality:0,optionality:c.isOptional,newBlockMarker:l,casing:null,def:f,placeholder:void 0,mask:f}),y=!1}for(var t=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})\??|[^.?*+^${[]()|\\]+|./g,
y=!1,v=new f,l,g=[],F=[],m;l=t.exec(c);)switch(l=l[0],l.charAt(0)){case b.optionalmarker.end:case b.groupmarker.end:m=g.pop();0<g.length?(l=g[g.length-1],l.matches.push(m),l.isAlternator&&g.pop()):v.matches.push(m);break;case b.optionalmarker.start:g.push(new f(!1,!0));break;case b.groupmarker.start:g.push(new f(!0));break;case b.quantifiermarker.start:m=new f(!1,!1,!0);l=l.replace(/[{}]/g,"");var u=l.split(",");l=isNaN(u[0])?u[0]:parseInt(u[0]);u=1==u.length?l:isNaN(u[1])?u[1]:parseInt(u[1]);if("*"==
u||"+"==u)l="*"==u?0:1;m.quantifier={min:l,max:u};if(0<g.length){u=g[g.length-1].matches;l=u.pop();if(!l.isGroup){var q=new f(!0);q.matches.push(l);l=q}u.push(l);u.push(m)}else l=v.matches.pop(),l.isGroup||(q=new f(!0),q.matches.push(l),l=q),v.matches.push(l),v.matches.push(m);break;case b.escapeChar:y=!0;break;case b.alternatormarker:m=new f(!1,!1,!1,!0);0<g.length?(u=g[g.length-1].matches,l=u.pop(),m.matches.push(l),u.push(m)):(l=v.matches.pop(),m.matches.push(l));g.push(m);break;default:if(0<g.length){if(e(g[g.length-
1],l),m=g[g.length-1],m.isAlternator){m=g.pop();for(l=0;l<m.matches.length;l++)m.matches[l].isGroup=!1;0<g.length?g[g.length-1].matches.push(m):v.matches.push(m)}}else 0<v.matches.length&&(m=v.matches[v.matches.length-1],m.isGroup&&(m.isGroup=!1,e(m,b.groupmarker.start,0),e(m,b.groupmarker.end))),e(v,l)}if(0<g.length){m=g[g.length-1];if(m.isAlternator)for(l=0;l<m.matches.length;l++)m.matches[l].isGroup=!1;v.matches=v.matches.concat(g)}0<v.matches.length&&(m=v.matches[v.matches.length-1],m.isGroup&&
(m.isGroup=!1,e(m,b.groupmarker.start,0),e(m,b.groupmarker.end)),F.push(v));return F}function F(e,t){if(b.numericInput&&!0!==b.multi){e=e.split("").reverse();for(var w=0;w<e.length;w++)e[w]==b.optionalmarker.start?e[w]=b.optionalmarker.end:e[w]==b.optionalmarker.end?e[w]=b.optionalmarker.start:e[w]==b.groupmarker.start?e[w]=b.groupmarker.end:e[w]==b.groupmarker.end&&(e[w]=b.groupmarker.start);e=e.join("")}if(void 0!=e&&""!=e){if(0<b.repeat||"*"==b.repeat||"+"==b.repeat)e=b.groupmarker.start+e+b.groupmarker.end+
b.quantifiermarker.start+("*"==b.repeat?0:"+"==b.repeat?1:b.repeat)+","+b.repeat+b.quantifiermarker.end;void 0==f.inputmask.masksCache[e]&&(f.inputmask.masksCache[e]={mask:e,maskToken:c(e),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:t});return f.extend(!0,{},f.inputmask.masksCache[e])}}var y=[];f.isFunction(b.mask)&&(b.mask=b.mask.call(this,b));if(f.isArray(b.mask))if(e)f.each(b.mask,function(c,f){void 0!=f.mask?y.push(F(f.mask.toString(),f)):y.push(F(f.toString()))});else var t=
"("+b.mask.join(")|(")+")",y=F(t);else 1==b.mask.length&&!1==b.greedy&&0!=b.repeat&&(b.placeholder=""),y=void 0!=b.mask.mask?F(b.mask.mask.toString(),b.mask):F(b.mask.toString());return y},ia="function"===typeof ScriptEngineMajorVersion?ScriptEngineMajorVersion():10<=(new Function("/*@cc_on return @_jscript_version; @*/"))(),q=navigator.userAgent,ja=null!==q.match(/iphone/i),ka=null!==q.match(/android.*safari.*/i),la=null!==q.match(/android.*chrome.*/i),ma=null!==q.match(/android.*firefox.*/i),na=
/Kindle/i.test(q)||/Silk/i.test(q)||/KFTT/i.test(q)||/KFOT/i.test(q)||/KFJWA/i.test(q)||/KFJWI/i.test(q)||/KFSOWI/i.test(q)||/KFTHWA/i.test(q)||/KFTHWI/i.test(q)||/KFAPWA/i.test(q)||/KFAPWI/i.test(q),Y=T("paste")?"paste":T("input")?"input":"propertychange",L=function(b,e,c){function F(a,d,r){d=d||0;var f=[],p,h=0,b;do{if(!0===a&&e.validPositions[h]){var B=e.validPositions[h];b=B.match;p=B.locator.slice();f.push(null==b.fn?b.def:!0===r?B.input:b.placeholder||c.placeholder.charAt(h%c.placeholder.length))}else p=
d>h?v(h,p,h-1)[0]:w(h,p,h-1),b=p.match,p=p.locator.slice(),f.push(null==b.fn?b.def:b.placeholder||c.placeholder.charAt(h%c.placeholder.length));h++}while((void 0==M||h-1<M)&&null!=b.fn||null==b.fn&&""!=b.def||d>=h);f.pop();return f}function y(a){var d=e;d.buffer=void 0;d.tests={};!0!==a&&(d._buffer=void 0,d.validPositions={},d.p=-1)}function t(a){var d=-1,r=e.validPositions;void 0==a&&(a=-1);var c=d,f;for(f in r){var b=parseInt(f);if(-1==a||null!=r[b].match.fn)b<a&&(c=b),b>=a&&(d=b)}return 1<a-c||
d<a?c:d}function k(a,d,r){if(c.insertMode&&void 0!=e.validPositions[a]&&void 0==r){r=f.extend(!0,{},e.validPositions);var b=t(),p;for(p=a;p<=b;p++)delete e.validPositions[p];e.validPositions[a]=d;d=!0;for(p=a;p<=b;p++){a=r[p];if(void 0!=a){var h=null==a.match.fn?p+1:E(p);d=L(h,a.match.def)?d&&!1!==u(h,a.input,!0,!0):!1}if(!d)break}if(!d)return e.validPositions=f.extend(!0,{},r),!1}else e.validPositions[a]=d;return!0}function q(a,d){var c,f=a;for(c=a;c<d;c++)delete e.validPositions[c];for(c=d;c<=t();){var b=
e.validPositions[c],h=e.validPositions[f];void 0!=b&&void 0==h?(L(f,b.match.def)&&!1!==u(f,b.input,!0)&&(delete e.validPositions[c],c++),f++):c++}for(c=t();0<c&&(void 0==e.validPositions[c]||null==e.validPositions[c].match.fn);)delete e.validPositions[c],c--;y(!0)}function w(a,d,r){a=v(a,d,r);var f;for(d=0;d<a.length&&(f=a[d],!c.greedy&&(!f.match||!1!==f.match.optionality&&!1!==f.match.newBlockMarker||!0===f.match.optionalQuantifier));d++);return f}function D(a){return e.validPositions[a]?e.validPositions[a].match:
v(a)[0].match}function L(a,d){for(var c=!1,f=v(a),e=0;e<f.length;e++)if(f[e].match&&f[e].match.def==d){c=!0;break}return c}function v(a,d,r){function b(d,r,e,g){function p(e,g,k){1E4<h&&alert("jquery.inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using.");if(h==a&&void 0==e.matches)return s.push({match:e,locator:g.reverse()}),!0;if(void 0!=e.matches)if(e.isGroup&&!0!==k){if(e=p(d.matches[l+1],g))return!0}else if(e.isOptional){var n=
e;if(e=b(e,r,g,k))e=s[s.length-1].match,(e=0==f.inArray(e,n.matches))&&(B=!0),h=a}else if(e.isAlternator){var n=s.slice(),m,N=g.length;m=0<r.length?r.shift():-1;if(-1==m){var t=h;s=[];b(e.matches[0],r.slice(),[0].concat(g),k);m=s.slice();h=t;s=[];e=b(e.matches[1],r,[1].concat(g),k);g=s.slice();s=[];for(k=0;k<m.length;k++){t=m[k];n.push(t);for(var u=0;u<g.length;u++)if(t.match.mask==g[u].match.mask){g.splice(u,1);t.locator[N]=-1;break}}s=n.concat(g)}else e=p(e.matches[m],[m].concat(g),k);if(e)return!0}else if(e.isQuantifier&&
!0!==k)for(n=e,c.greedy=c.greedy&&isFinite(n.quantifier.max),N=0<r.length&&!0!==k?r.shift():0;N<(isNaN(n.quantifier.max)?N+1:n.quantifier.max)&&h<=a;N++){if(m=d.matches[f.inArray(n,d.matches)-1],e=p(m,[N].concat(g),!0))if(e=s[s.length-1].match,e.optionalQuantifier=N>n.quantifier.min-1,e=0==f.inArray(e,m.matches))if(N>n.quantifier.min-1){B=!0;h=a;break}else return!0;else return!0}else{if(e=b(e,r,g,k))return!0}else h++}for(var l=0<r.length?r.shift():0;l<d.matches.length;l++)if(!0!==d.matches[l].isQuantifier){var k=
p(d.matches[l],[l].concat(e),g);if(k&&h==a)return k;if(h>a)break}}var g=e.maskToken,h=d?r:0;r=d||[0];var s=[],B=!1;if(void 0==d){d=a-1;for(var l;void 0==(l=e.validPositions[d])&&-1<d;)d--;if(void 0!=l&&-1<d)h=d,r=l.locator.slice();else{for(d=a-1;void 0==(l=e.tests[d])&&-1<d;)d--;void 0!=l&&-1<d&&(h=d,r=l[0].locator.slice())}}for(d=r.shift();d<g.length&&!(b(g[d],r,[d])&&h==a||h>a);d++);(0==s.length||B)&&s.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:""},locator:[]});return e.tests[a]=
s}function l(){void 0==e._buffer&&(e._buffer=F(!1,1));return e._buffer}function g(){void 0==e.buffer&&(e.buffer=F(!0,t(),!0));return e.buffer}function J(a,d){var f=g().slice();if(!0===a)y(),a=0,d=f.length;else for(var b=a;b<d;b++)delete e.validPositions[b],delete e.tests[b];for(b=a;b<d;b++)f[b]!=c.skipOptionalPartCharacter&&u(b,f[b],!0,!0)}function m(a,d){switch(d.casing){case "upper":a=a.toUpperCase();break;case "lower":a=a.toLowerCase()}return a}function u(a,d,r,b){function p(a,d,r,b){var h=!1;
f.each(v(a),function(B,p){var s=p.match,l=d?1:0,A="";g();for(var n=s.cardinality;n>l;n--)A+=void 0==e.validPositions[a-(n-1)]?U(a-(n-1)):e.validPositions[a-(n-1)].input;d&&(A+=d);h=null!=s.fn?s.fn.test(A,e,a,r,c):d!=s.def&&d!=c.skipOptionalPartCharacter||""==s.def?!1:{c:s.def,pos:a};if(!1!==h){l=void 0!=h.c?h.c:d;l=l==c.skipOptionalPartCharacter&&null===s.fn?s.def:l;A=a;void 0!=h.remove&&q(h.remove,h.remove+1);if(h.refreshFromBuffer){A=h.refreshFromBuffer;r=!0;J(!0===A?A:A.start,A.end);if(void 0==
h.pos&&void 0==h.c)return h.pos=t(),!1;A=void 0!=h.pos?h.pos:a;if(A!=a)return h=f.extend(h,u(A,l,!0)),!1}else if(!0!==h&&void 0!=h.pos&&h.pos!=a&&(A=h.pos,J(a,A),A!=a))return h=f.extend(h,u(A,l,!0)),!1;if(!0!=h&&void 0==h.pos&&void 0==h.c)return!1;0<B&&y(!0);k(A,f.extend({},p,{input:m(l,s)}),b)||(h=!1);return!1}});return h}r=!0===r;for(var h=g(),s=a-1;-1<s&&(!e.validPositions[s]||null!=e.validPositions[s].fn);s--)if((!P(s)||h[s]!=U(s))&&1<v(s).length){p(s,h[s],!0);break}if(a>=Q())return!1;h=p(a,d,
r,b);if(!r&&!1===h)if((s=e.validPositions[a])&&null==s.match.fn&&(s.match.def==d||d==c.skipOptionalPartCharacter))h={caret:E(a)};else if((c.insertMode||void 0==e.validPositions[E(a)])&&!P(a))for(var s=a+1,B=E(a);s<=B;s++)if(h=p(s,d,r,b),!1!==h){a=s;break}!0===h&&(h={pos:a});return h}function P(a){a=D(a);return null!=a.fn?a.fn:!1}function Q(){var a;M=n.prop("maxLength");-1==M&&(M=void 0);if(!1==c.greedy){var d;d=t();a=e.validPositions[d];var f=void 0!=a?a.locator.slice():void 0;for(d+=1;void 0==a||
null!=a.match.fn||null==a.match.fn&&""!=a.match.def;d++)a=w(d,f,d-1),f=a.locator.slice();a=d}else a=g().length;return void 0==M||a<M?a:M}function E(a){var d=Q();if(a>=d)return d;for(;++a<d&&!P(a)&&(!0!==c.nojumps||c.nojumpsThreshold>a););return a}function W(a){if(0>=a)return 0;for(;0<--a&&!P(a););return a}function I(a,d,c){a._valueSet(d.join(""));void 0!=c&&x(a,c)}function U(a,d){d=d||D(a);return d.placeholder||(null==d.fn?d.def:c.placeholder.charAt(a%c.placeholder.length))}function R(a,d,r,b,p){b=
void 0!=b?b.slice():ha(a._valueGet()).split("");y();d&&a._valueSet("");f.each(b,function(d,c){if(!0===p){var b=e.p,b=-1==b?b:W(b),g=-1==b?d:E(b);-1==f.inArray(c,l().slice(b+1,g))&&Z.call(a,void 0,!0,c.charCodeAt(0),!1,r,d)}else Z.call(a,void 0,!0,c.charCodeAt(0),!1,r,d),r=r||0<d&&d>e.p});d&&(d=c.onKeyPress.call(this,void 0,g(),0,c),X(a,d),I(a,g(),f(a).is(":focus")?E(t(0)):void 0))}function T(a){return f.inputmask.escapeRegex.call(this,a)}function ha(a){return a.replace(RegExp("("+T(l().join(""))+
")*$"),"")}function ca(a){if(a.data("_inputmask")&&!a.hasClass("hasDatepicker")){var d=[],r=e.validPositions,b;for(b in r)r[b].match&&null!=r[b].match.fn&&d.push(r[b].input);d=(C?d.reverse():d).join("");r=(C?g().reverse():g()).join("");f.isFunction(c.onUnMask)&&(d=c.onUnMask.call(a,r,d,c));return d}return a[0]._valueGet()}function O(a){!C||"number"!=typeof a||c.greedy&&""==c.placeholder||(a=g().length-a);return a}function x(a,d,e){a=a.jquery&&0<a.length?a[0]:a;if("number"==typeof d){d=O(d);e=O(e);
e="number"==typeof e?e:d;var b=f(a).data("_inputmask")||{};b.caret={begin:d,end:e};f(a).data("_inputmask",b);f(a).is(":visible")&&(a.scrollLeft=a.scrollWidth,!1==c.insertMode&&d==e&&e++,a.setSelectionRange?(a.selectionStart=d,a.selectionEnd=e):a.createTextRange&&(a=a.createTextRange(),a.collapse(!0),a.moveEnd("character",e),a.moveStart("character",d),a.select()))}else return b=f(a).data("_inputmask"),!f(a).is(":visible")&&b&&void 0!=b.caret?(d=b.caret.begin,e=b.caret.end):a.setSelectionRange?(d=a.selectionStart,
e=a.selectionEnd):document.selection&&document.selection.createRange&&(a=document.selection.createRange(),d=0-a.duplicate().moveStart("character",-1E5),e=d+a.text.length),d=O(d),e=O(e),{begin:d,end:e}}function $(a){var d=g(),c=d.length,b,p=t(),h={},l=void 0!=e.validPositions[p]?e.validPositions[p].locator.slice():void 0,B;for(b=p+1;b<d.length;b++)B=w(b,l,b-1),l=B.locator.slice(),h[b]=f.extend(!0,{},B);for(b=c-1;b>p;b--)if(B=h[b].match,(B.optionality||B.optionalQuantifier)&&d[b]==U(b,B))c--;else break;
return a?{l:c,def:h[c]?h[c].match:void 0}:c}function aa(a){var d=g().slice(),c=$();d.length=c;I(a,d)}function S(a){if(f.isFunction(c.isComplete))return c.isComplete.call(n,a,c);if("*"!=c.repeat){var d=!1,e=$(!0),b=W(e.l);if(t()==b&&(void 0==e.def||e.def.newBlockMarker||e.def.optionalQuantifier))for(d=!0,e=0;e<=b;e++){var g=P(e);if(g&&(void 0==a[e]||a[e]==U(e))||!g&&a[e]!=U(e)){d=!1;break}}return d}}function oa(a){a=f._data(a).events;f.each(a,function(a,c){f.each(c,function(a,d){if("inputmask"==d.namespace&&
"setvalue"!=d.type){var c=d.handler;d.handler=function(a){if(this.readOnly||this.disabled)a.preventDefault;else return c.apply(this,arguments)}}})})}function pa(a){function d(a){if(void 0==f.valHooks[a]||!0!=f.valHooks[a].inputmaskpatch){var d=f.valHooks[a]&&f.valHooks[a].get?f.valHooks[a].get:function(a){return a.value},c=f.valHooks[a]&&f.valHooks[a].set?f.valHooks[a].set:function(a,d){a.value=d;return a};f.valHooks[a]={get:function(a){var c=f(a);if(c.data("_inputmask")){if(c.data("_inputmask").opts.autoUnmask)return c.inputmask("unmaskedvalue");
a=d(a);c=(c=c.data("_inputmask").maskset._buffer)?c.join(""):"";return a!=c?a:""}return d(a)},set:function(a,d){var e=f(a),b=e.data("_inputmask");b?(b=c(a,f.isFunction(b.opts.onBeforeMask)?b.opts.onBeforeMask.call(z,d,b.opts):d),e.triggerHandler("setvalue.inputmask")):b=c(a,d);return b},inputmaskpatch:!0}}}function c(){var a=f(this),d=f(this).data("_inputmask");return d?d.opts.autoUnmask?a.inputmask("unmaskedvalue"):h.call(this)!=l().join("")?h.call(this):"":h.call(this)}function e(a){var d=f(this).data("_inputmask");
d?(s.call(this,f.isFunction(d.opts.onBeforeMask)?d.opts.onBeforeMask.call(z,a,d.opts):a),f(this).triggerHandler("setvalue.inputmask")):s.call(this,a)}function b(a){f(a).bind("mouseenter.inputmask",function(a){a=f(this);var d=this._valueGet();""!=d&&d!=g().join("")&&a.trigger("setvalue")});if(a=f._data(a).events.mouseover){for(var d=a[a.length-1],c=a.length-1;0<c;c--)a[c]=a[c-1];a[0]=d}}var h,s;a._valueGet||(Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(a,"value"),document.__lookupGetter__&&
a.__lookupGetter__("value")?(h=a.__lookupGetter__("value"),s=a.__lookupSetter__("value"),a.__defineGetter__("value",c),a.__defineSetter__("value",e)):(h=function(){return a.value},s=function(d){a.value=d},d(a.type),b(a)),a._valueGet=function(){return C?h.call(this).split("").reverse().join(""):h.call(this)},a._valueSet=function(a){s.call(this,C?a.split("").reverse().join(""):a)})}function da(a,d,b){if(c.numericInput||C)d==c.keyCode.BACKSPACE?d=c.keyCode.DELETE:d==c.keyCode.DELETE&&(d=c.keyCode.BACKSPACE),
C&&(a=b.end,b.end=b.begin,b.begin=a);d==c.keyCode.BACKSPACE&&1>=b.end-b.begin?b.begin=W(b.begin):d==c.keyCode.DELETE&&b.begin==b.end&&b.end++;q(b.begin,b.end);d=t(b.begin);e.p=d<b.begin?E(d):b.begin}function X(a,d,c){if(d&&d.refreshFromBuffer){var b=d.refreshFromBuffer;J(!0===b?b:b.start,b.end);y(!0);void 0!=c&&(I(a,g()),x(a,d.caret||c.begin,d.caret||c.end))}}function ea(a){ba=!1;var d=this,b=f(d),k=a.keyCode,p=x(d);k==c.keyCode.BACKSPACE||k==c.keyCode.DELETE||ja&&127==k||a.ctrlKey&&88==k?(a.preventDefault(),
88==k&&(K=g().join("")),da(d,k,p),I(d,g(),e.p),d._valueGet()==l().join("")&&b.trigger("cleared"),c.showTooltip&&b.prop("title",e.mask)):k==c.keyCode.END||k==c.keyCode.PAGE_DOWN?setTimeout(function(){var b=E(t());c.insertMode||b!=Q()||a.shiftKey||b--;x(d,a.shiftKey?p.begin:b,b)},0):k==c.keyCode.HOME&&!a.shiftKey||k==c.keyCode.PAGE_UP?x(d,0,a.shiftKey?p.begin:0):k==c.keyCode.ESCAPE||90==k&&a.ctrlKey?(R(d,!0,!1,K.split("")),b.click()):k!=c.keyCode.INSERT||a.shiftKey||a.ctrlKey?!1!=c.insertMode||a.shiftKey||
(k==c.keyCode.RIGHT?setTimeout(function(){var a=x(d);x(d,a.begin)},0):k==c.keyCode.LEFT&&setTimeout(function(){var a=x(d);x(d,C?a.begin+1:a.begin-1)},0)):(c.insertMode=!c.insertMode,x(d,c.insertMode||p.begin!=Q()?p.begin:p.begin-1));var b=x(d),h=c.onKeyDown.call(this,a,g(),b.begin,c);X(d,h,b);fa=-1!=f.inArray(k,c.ignorables)}function Z(a,d,b,l,p,h){if(void 0==b&&ba)return!1;ba=!0;var n=f(this);a=a||window.event;b=d?b:a.which||a.charCode||a.keyCode;if(!(!0===d||a.ctrlKey&&a.altKey)&&(a.ctrlKey||a.metaKey||
fa))return!0;if(b){!0!==d&&46==b&&!1==a.shiftKey&&","==c.radixPoint&&(b=44);var m,w;b=String.fromCharCode(b);d?(h=p?h:t()+1,m={begin:h,end:h}):m=x(this);if(h=C?1<m.begin-m.end||1==m.begin-m.end&&c.insertMode:1<m.end-m.begin||1==m.end-m.begin&&c.insertMode)e.undoPositions=f.extend(!0,{},e.validPositions),da(this,c.keyCode.DELETE,m),c.insertMode||(c.insertMode=!c.insertMode,k(m.begin,p),c.insertMode=!c.insertMode),h=!c.multi;e.writeOutBuffer=!0;m=C&&!h?m.end:m.begin;var q=u(m,b,p);!1!==q&&(!0!==q&&
(m=void 0!=q.pos?q.pos:m,b=void 0!=q.c?q.c:b),y(!0),void 0!=q.caret?w=q.caret:(p=e.validPositions,w=void 0!=p[m+1]&&1<v(m+1,p[m].locator.slice(),m).length?m+1:E(m)),e.p=w);if(!1!==l){var F=this;setTimeout(function(){c.onKeyValidation.call(F,q,c)},0);if(e.writeOutBuffer&&!1!==q){var z=g();I(this,z,d?void 0:c.numericInput?W(w):w);!0!==d&&setTimeout(function(){!0===S(z)&&n.trigger("complete");V=!0;n.trigger("input")},0)}else h&&(e.buffer=void 0,e.validPositions=e.undoPositions)}else h&&(e.buffer=void 0,
e.validPositions=e.undoPositions);c.showTooltip&&n.prop("title",e.mask);a&&!0!=d&&(a.preventDefault?a.preventDefault():a.returnValue=!1,d=x(this),a=c.onKeyPress.call(this,a,g(),d.begin,c),X(this,a,d));for(var D in e.validPositions);}}function qa(a){var d=f(this),b=a.keyCode,e=g(),l=x(this);a=c.onKeyUp.call(this,a,e,l.begin,c);X(this,a,l);b==c.keyCode.TAB&&c.showMaskOnFocus&&(d.hasClass("focus-inputmask")&&0==this._valueGet().length?(y(),e=g(),I(this,e),x(this,0),K=g().join("")):(I(this,e),x(this,
O(0),O(Q()))))}function ga(a){if(!0===V&&"input"==a.type)return V=!1,!0;var d=f(this),b=this._valueGet();if("propertychange"==a.type&&this._valueGet().length<=Q())return!0;"paste"==a.type&&(window.clipboardData&&window.clipboardData.getData?b=window.clipboardData.getData("Text"):a.originalEvent&&a.originalEvent.clipboardData&&a.originalEvent.clipboardData.getData&&(b=a.originalEvent.clipboardData.getData("text/plain")));a=f.isFunction(c.onBeforePaste)?c.onBeforePaste.call(this,b,c):b;R(this,!0,!1,
a.split(""),!0);d.click();!0===S(g())&&d.trigger("complete");return!1}function ra(a){if(!0===V&&"input"==a.type)return V=!1,!0;var b=x(this),e=this._valueGet(),e=e.replace(RegExp("("+T(l().join(""))+")*"),"");b.begin>e.length&&(x(this,e.length),b=x(this));1!=g().length-e.length||e.charAt(b.begin)==g()[b.begin]||e.charAt(b.begin+1)==g()[b.begin]||P(b.begin)||(a.keyCode=c.keyCode.BACKSPACE,ea.call(this,a));a.preventDefault()}function sa(a){n=f(a);if(n.is(":input")&&"number"!=n.attr("type")){n.data("_inputmask",
{maskset:e,opts:c,isRTL:!1});c.showTooltip&&n.prop("title",e.mask);("rtl"==a.dir||c.rightAlign)&&n.css("text-align","right");if("rtl"==a.dir||c.numericInput){a.dir="ltr";n.removeAttr("dir");var b=n.data("_inputmask");b.isRTL=!0;n.data("_inputmask",b);C=!0}n.unbind(".inputmask");n.removeClass("focus-inputmask");n.closest("form").bind("submit",function(){K!=g().join("")&&n.change();c.autoUnmask&&c.removeMaskOnSubmit&&n.inputmask("remove")}).bind("reset",function(){setTimeout(function(){n.trigger("setvalue")},
0)});n.bind("mouseenter.inputmask",function(){!f(this).hasClass("focus-inputmask")&&c.showMaskOnHover&&this._valueGet()!=g().join("")&&I(this,g())}).bind("blur.inputmask",function(){var a=f(this);if(a.data("_inputmask")){var b=this._valueGet(),d=g();a.removeClass("focus-inputmask");K!=g().join("")&&a.change();c.clearMaskOnLostFocus&&""!=b&&(b==l().join("")?this._valueSet(""):aa(this));!1===S(d)&&(a.trigger("incomplete"),c.clearIncomplete&&(y(),c.clearMaskOnLostFocus?this._valueSet(""):(d=l().slice(),
I(this,d))))}}).bind("focus.inputmask",function(){var a=f(this),b=this._valueGet();c.showMaskOnFocus&&!a.hasClass("focus-inputmask")&&(!c.showMaskOnHover||c.showMaskOnHover&&""==b)&&this._valueGet()!=g().join("")&&I(this,g(),E(t()));a.addClass("focus-inputmask");K=g().join("")}).bind("mouseleave.inputmask",function(){var a=f(this);c.clearMaskOnLostFocus&&(a.hasClass("focus-inputmask")||this._valueGet()==a.attr("placeholder")||(this._valueGet()==l().join("")||""==this._valueGet()?this._valueSet(""):
aa(this)))}).bind("click.inputmask",function(){var a=this;f(a).is(":focus")&&setTimeout(function(){var b=x(a);if(b.begin==b.end){var b=C?O(b.begin):b.begin,c=t(b),c=E(c);b<c?P(b)?x(a,b):x(a,E(b)):x(a,c)}},0)}).bind("dblclick.inputmask",function(){var a=this;setTimeout(function(){x(a,0,E(t()))},0)}).bind(Y+".inputmask dragdrop.inputmask drop.inputmask",ga).bind("setvalue.inputmask",function(){R(this,!0);K=g().join("")}).bind("complete.inputmask",c.oncomplete).bind("incomplete.inputmask",c.onincomplete).bind("cleared.inputmask",
c.oncleared);n.bind("keydown.inputmask",ea).bind("keypress.inputmask",Z).bind("keyup.inputmask",qa);if(ka||ma||la||na)"input"==Y&&n.unbind(Y+".inputmask"),n.bind("input.inputmask",ra);ia&&n.bind("input.inputmask",ga);pa(a);b=f.isFunction(c.onBeforeMask)?c.onBeforeMask.call(a,a._valueGet(),c):a._valueGet();R(a,!0,!1,b.split(""),!0);K=g().join("");var k;try{k=document.activeElement}catch(m){}!1===S(g())&&c.clearIncomplete&&y();c.clearMaskOnLostFocus?g().join("")==l().join("")?a._valueSet(""):aa(a):
I(a,g());k===a&&(n.addClass("focus-inputmask"),x(a,E(t())));oa(a)}}var C=!1,K,n,ba=!1,V=!1,fa=!1,M;if(void 0!=b)switch(b.action){case "isComplete":return n=f(b.el),e=n.data("_inputmask").maskset,c=n.data("_inputmask").opts,S(b.buffer);case "unmaskedvalue":return n=b.$input,e=n.data("_inputmask").maskset,c=n.data("_inputmask").opts,C=b.$input.data("_inputmask").isRTL,ca(b.$input);case "mask":K=g().join("");sa(b.el);break;case "format":n=f({});n.data("_inputmask",{maskset:e,opts:c,isRTL:c.numericInput});
c.numericInput&&(C=!0);var G=b.value.split("");R(n,!1,!1,C?G.reverse():G,!0);c.onKeyPress.call(this,void 0,g(),0,c);return C?g().reverse().join(""):g().join("");case "isValid":n=f({});n.data("_inputmask",{maskset:e,opts:c,isRTL:c.numericInput});c.numericInput&&(C=!0);G=b.value.split("");R(n,!1,!0,C?G.reverse():G);var G=g(),ta=$();G.length=ta;return S(G)&&b.value==G.join("");case "getemptymask":return n=f(b.el),e=n.data("_inputmask").maskset,c=n.data("_inputmask").opts,l();case "remove":var z=b.el;
n=f(z);e=n.data("_inputmask").maskset;c=n.data("_inputmask").opts;z._valueSet(ca(n));n.unbind(".inputmask");n.removeClass("focus-inputmask");n.removeData("_inputmask");Object.getOwnPropertyDescriptor&&(G=Object.getOwnPropertyDescriptor(z,"value"));G&&G.get?z._valueGet&&Object.defineProperty(z,"value",{get:z._valueGet,set:z._valueSet}):document.__lookupGetter__&&z.__lookupGetter__("value")&&z._valueGet&&(z.__defineGetter__("value",z._valueGet),z.__defineSetter__("value",z._valueSet));try{delete z._valueGet,
delete z._valueSet}catch(ua){z._valueGet=void 0,z._valueSet=void 0}}};f.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:f.noop,onincomplete:f.noop,oncleared:f.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!0,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},alias:null,onKeyUp:f.noop,onKeyPress:f.noop,onKeyDown:f.noop,onBeforeMask:void 0,
onBeforePaste:void 0,onUnMask:void 0,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:f.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,rightAlign:!1,radixPoint:"",nojumps:!1,nojumpsThreshold:0,definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-z\u0410-\u044f\u0401\u0451\u00c0-\u00ff\u00b5]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-z\u0410-\u044f\u0401\u0451\u00c0-\u00ff\u00b5]",cardinality:1}},keyCode:{ALT:18,BACKSPACE:8,
CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:void 0},masksCache:{},escapeRegex:function(b){return b.replace(RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)",
"gim"),"\\$1")},format:function(b,e){var c=f.extend(!0,{},f.inputmask.defaults,e);D(c.alias,e,c);return L({action:"format",value:b},J(c),c)},isValid:function(b,e){var c=f.extend(!0,{},f.inputmask.defaults,e);D(c.alias,e,c);return L({action:"isValid",value:b},J(c),c)}};f.fn.inputmask=function(b,e,c,q,y){function t(b,c){var e=f(b),k;for(k in c){var l=e.data("inputmask-"+k.toLowerCase());void 0!=l&&(c[k]=l)}return c}c=c||L;q=q||"_inputmask";var k=f.extend(!0,{},f.inputmask.defaults,e),H;if("string"===
typeof b)switch(b){case "mask":return D(k.alias,e,k),H=J(k,c!==L),0==H.length?this:this.each(function(){c({action:"mask",el:this},f.extend(!0,{},H),t(this,k))});case "unmaskedvalue":return b=f(this),b.data(q)?c({action:"unmaskedvalue",$input:b}):b.val();case "remove":return this.each(function(){f(this).data(q)&&c({action:"remove",el:this})});case "getemptymask":return this.data(q)?c({action:"getemptymask",el:this}):"";case "hasMaskedValue":return this.data(q)?!this.data(q).opts.autoUnmask:!1;case "isComplete":return this.data(q)?
c({action:"isComplete",buffer:this[0]._valueGet().split(""),el:this}):!0;case "getmetadata":if(this.data(q))return H=this.data(q).maskset,H.metadata;break;case "_detectScope":return D(k.alias,e,k),void 0==y||D(y,e,k)||-1!=f.inArray(y,"mask unmaskedvalue remove getemptymask hasMaskedValue isComplete getmetadata _detectScope".split(" "))||(k.mask=y),f.isFunction(k.mask)&&(k.mask=k.mask.call(this,k)),f.isArray(k.mask);default:return D(k.alias,e,k),D(b,e,k)||(k.mask=b),H=J(k,c!==L),void 0==H?this:this.each(function(){c({action:"mask",
el:this},f.extend(!0,{},H),t(this,k))})}else{if("object"==typeof b)return k=f.extend(!0,{},f.inputmask.defaults,b),D(k.alias,b,k),H=J(k,c!==L),void 0==H?this:this.each(function(){c({action:"mask",el:this},f.extend(!0,{},H),t(this,k))});if(void 0==b)return this.each(function(){var b=f(this).attr("data-inputmask");if(b&&""!=b)try{var b=b.replace(RegExp("'","g"),'"'),q=f.parseJSON("{"+b+"}");f.extend(!0,q,e);k=f.extend(!0,{},f.inputmask.defaults,q);D(k.alias,q,k);k.alias=void 0;f(this).inputmask("mask",
k,c)}catch(t){}})}}}});
