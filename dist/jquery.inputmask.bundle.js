(function($){if($.fn.inputmask===undefined){function isInputEventSupported(eventName){var el=document.createElement('input'),eventName='on'+eventName,isSupported=(eventName in el);if(!isSupported){el.setAttribute(eventName,'return;');isSupported=typeof el[eventName]=='function';}
el=null;return isSupported;}
function resolveAlias(aliasStr,options,opts){var aliasDefinition=opts.aliases[aliasStr];if(aliasDefinition){if(aliasDefinition.alias)resolveAlias(aliasDefinition.alias,undefined,opts);$.extend(true,opts,aliasDefinition);$.extend(true,opts,options);return true;}
return false;}
function generateMaskSets(opts){var ms=[];var genmasks=[];function getMaskTemplate(mask){if(opts.numericInput){mask=mask.split('').reverse().join('');}
var escaped=false,outCount=0,greedy=opts.greedy,repeat=opts.repeat;if(repeat=="*")greedy=false;if(mask.length==1&&greedy==false&&repeat!=0){opts.placeholder="";}
var singleMask=$.map(mask.split(""),function(element,index){var outElem=[];if(element==opts.escapeChar){escaped=true;}
else if((element!=opts.optionalmarker.start&&element!=opts.optionalmarker.end)||escaped){var maskdef=opts.definitions[element];if(maskdef&&!escaped){for(var i=0;i<maskdef.cardinality;i++){outElem.push(opts.placeholder.charAt((outCount+i)%opts.placeholder.length));}}else{outElem.push(element);escaped=false;}
outCount+=outElem.length;return outElem;}});var repeatedMask=singleMask.slice();for(var i=1;i<repeat&&greedy;i++){repeatedMask=repeatedMask.concat(singleMask.slice());}
return{"mask":repeatedMask,"repeat":repeat,"greedy":greedy};}
function getTestingChain(mask){if(opts.numericInput){mask=mask.split('').reverse().join('');}
var isOptional=false,escaped=false;var newBlockMarker=false;return $.map(mask.split(""),function(element,index){var outElem=[];if(element==opts.escapeChar){escaped=true;}else if(element==opts.optionalmarker.start&&!escaped){isOptional=true;newBlockMarker=true;}
else if(element==opts.optionalmarker.end&&!escaped){isOptional=false;newBlockMarker=true;}
else{var maskdef=opts.definitions[element];if(maskdef&&!escaped){var prevalidators=maskdef["prevalidator"],prevalidatorsL=prevalidators?prevalidators.length:0;for(var i=1;i<maskdef.cardinality;i++){var prevalidator=prevalidatorsL>=i?prevalidators[i-1]:[],validator=prevalidator["validator"],cardinality=prevalidator["cardinality"];outElem.push({fn:validator?typeof validator=='string'?new RegExp(validator):new function(){this.test=validator;}:new RegExp("."),cardinality:cardinality?cardinality:1,optionality:isOptional,newBlockMarker:isOptional==true?newBlockMarker:false,offset:0,casing:maskdef["casing"],def:maskdef["definitionSymbol"]||element});if(isOptional==true)
newBlockMarker=false;}
outElem.push({fn:maskdef.validator?typeof maskdef.validator=='string'?new RegExp(maskdef.validator):new function(){this.test=maskdef.validator;}:new RegExp("."),cardinality:maskdef.cardinality,optionality:isOptional,newBlockMarker:newBlockMarker,offset:0,casing:maskdef["casing"],def:maskdef["definitionSymbol"]||element});}else{outElem.push({fn:null,cardinality:0,optionality:isOptional,newBlockMarker:newBlockMarker,offset:0,casing:null,def:element});escaped=false;}
newBlockMarker=false;return outElem;}});}
function markOptional(maskPart){return opts.optionalmarker.start+maskPart+opts.optionalmarker.end;}
function splitFirstOptionalEndPart(maskPart){var optionalStartMarkers=0,optionalEndMarkers=0,mpl=maskPart.length;for(var i=0;i<mpl;i++){if(maskPart.charAt(i)==opts.optionalmarker.start){optionalStartMarkers++;}
if(maskPart.charAt(i)==opts.optionalmarker.end){optionalEndMarkers++;}
if(optionalStartMarkers>0&&optionalStartMarkers==optionalEndMarkers)
break;}
var maskParts=[maskPart.substring(0,i)];if(i<mpl){maskParts.push(maskPart.substring(i+1,mpl));}
return maskParts;}
function splitFirstOptionalStartPart(maskPart){var mpl=maskPart.length;for(var i=0;i<mpl;i++){if(maskPart.charAt(i)==opts.optionalmarker.start){break;}}
var maskParts=[maskPart.substring(0,i)];if(i<mpl){maskParts.push(maskPart.substring(i+1,mpl));}
return maskParts;}
function generateMask(maskPrefix,maskPart,metadata){var maskParts=splitFirstOptionalEndPart(maskPart);var newMask,maskTemplate;var masks=splitFirstOptionalStartPart(maskParts[0]);if(masks.length>1){newMask=maskPrefix+masks[0]+markOptional(masks[1])+(maskParts.length>1?maskParts[1]:"");if($.inArray(newMask,genmasks)==-1&&newMask!=""){genmasks.push(newMask);maskTemplate=getMaskTemplate(newMask);ms.push({"mask":newMask,"_buffer":maskTemplate["mask"],"buffer":maskTemplate["mask"].slice(),"tests":getTestingChain(newMask),"lastValidPosition":-1,"greedy":maskTemplate["greedy"],"repeat":maskTemplate["repeat"],"metadata":metadata});}
newMask=maskPrefix+masks[0]+(maskParts.length>1?maskParts[1]:"");if($.inArray(newMask,genmasks)==-1&&newMask!=""){genmasks.push(newMask);maskTemplate=getMaskTemplate(newMask);ms.push({"mask":newMask,"_buffer":maskTemplate["mask"],"buffer":maskTemplate["mask"].slice(),"tests":getTestingChain(newMask),"lastValidPosition":-1,"greedy":maskTemplate["greedy"],"repeat":maskTemplate["repeat"],"metadata":metadata});}
if(splitFirstOptionalStartPart(masks[1]).length>1){generateMask(maskPrefix+masks[0],masks[1]+maskParts[1],metadata);}
if(maskParts.length>1&&splitFirstOptionalStartPart(maskParts[1]).length>1){generateMask(maskPrefix+masks[0]+markOptional(masks[1]),maskParts[1],metadata);generateMask(maskPrefix+masks[0],maskParts[1],metadata);}}
else{newMask=maskPrefix+maskParts;if($.inArray(newMask,genmasks)==-1&&newMask!=""){genmasks.push(newMask);maskTemplate=getMaskTemplate(newMask);ms.push({"mask":newMask,"_buffer":maskTemplate["mask"],"buffer":maskTemplate["mask"].slice(),"tests":getTestingChain(newMask),"lastValidPosition":-1,"greedy":maskTemplate["greedy"],"repeat":maskTemplate["repeat"],"metadata":metadata});}}}
if($.isFunction(opts.mask)){opts.mask=opts.mask.call(this,opts);}
if($.isArray(opts.mask)){$.each(opts.mask,function(ndx,msk){if(msk["mask"]!=undefined){generateMask("",msk["mask"].toString(),msk);}else
generateMask("",msk.toString());});}else generateMask("",opts.mask.toString());return opts.greedy?ms:ms.sort(function(a,b){return a["mask"].length-b["mask"].length;});}
var msie1x=typeof ScriptEngineMajorVersion==="function"?ScriptEngineMajorVersion():new Function("/*@cc_on return @_jscript_version; @*/")()>=10,ua=navigator.userAgent,iphone=ua.match(new RegExp("iphone","i"))!==null,android=ua.match(new RegExp("android.*safari.*","i"))!==null,androidchrome=ua.match(new RegExp("android.*chrome.*","i"))!==null,androidfirefox=ua.match(new RegExp("android.*firefox.*","i"))!==null,kindle=/Kindle/i.test(ua)||/Silk/i.test(ua)||/KFTT/i.test(ua)||/KFOT/i.test(ua)||/KFJWA/i.test(ua)||/KFJWI/i.test(ua)||/KFSOWI/i.test(ua)||/KFTHWA/i.test(ua)||/KFTHWI/i.test(ua)||/KFAPWA/i.test(ua)||/KFAPWI/i.test(ua),PasteEventType=isInputEventSupported('paste')?'paste':isInputEventSupported('input')?'input':"propertychange";function maskScope(masksets,activeMasksetIndex,opts,actionObj){var isRTL=false,valueOnFocus=getActiveBuffer().join(''),$el,skipKeyPressEvent=false,skipInputEvent=false,ignorable=false;function getActiveMaskSet(){return masksets[activeMasksetIndex];}
function getActiveTests(){return getActiveMaskSet()['tests'];}
function getActiveBufferTemplate(){return getActiveMaskSet()['_buffer'];}
function getActiveBuffer(){return getActiveMaskSet()['buffer'];}
function isValid(pos,c,strict){strict=strict===true;function _isValid(position,activeMaskset,c,strict){var testPos=determineTestPosition(position),loopend=c?1:0,chrs='',buffer=activeMaskset["buffer"];for(var i=activeMaskset['tests'][testPos].cardinality;i>loopend;i--){chrs+=getBufferElement(buffer,testPos-(i-1));}
if(c){chrs+=c;}
return activeMaskset['tests'][testPos].fn!=null?activeMaskset['tests'][testPos].fn.test(chrs,buffer,position,strict,opts):(c==getBufferElement(activeMaskset['_buffer'].slice(),position,true)||c==opts.skipOptionalPartCharacter)?{"refresh":true,c:getBufferElement(activeMaskset['_buffer'].slice(),position,true),pos:position}:false;}
function PostProcessResults(maskForwards,results){var hasValidActual=false;$.each(results,function(ndx,rslt){hasValidActual=$.inArray(rslt["activeMasksetIndex"],maskForwards)==-1&&rslt["result"]!==false;if(hasValidActual)return false;});if(hasValidActual){results=$.map(results,function(rslt,ndx){if($.inArray(rslt["activeMasksetIndex"],maskForwards)==-1){return rslt;}else{masksets[rslt["activeMasksetIndex"]]["lastValidPosition"]=actualLVP;}});}else{var lowestPos=-1,lowestIndex=-1,rsltValid;$.each(results,function(ndx,rslt){if($.inArray(rslt["activeMasksetIndex"],maskForwards)!=-1&&rslt["result"]!==false&(lowestPos==-1||lowestPos>rslt["result"]["pos"])){lowestPos=rslt["result"]["pos"];lowestIndex=rslt["activeMasksetIndex"];}});results=$.map(results,function(rslt,ndx){if($.inArray(rslt["activeMasksetIndex"],maskForwards)!=-1){if(rslt["result"]["pos"]==lowestPos){return rslt;}else if(rslt["result"]!==false){for(var i=pos;i<lowestPos;i++){rsltValid=_isValid(i,masksets[rslt["activeMasksetIndex"]],masksets[lowestIndex]["buffer"][i],true);if(rsltValid===false){masksets[rslt["activeMasksetIndex"]]["lastValidPosition"]=lowestPos-1;break;}else{setBufferElement(masksets[rslt["activeMasksetIndex"]]["buffer"],i,masksets[lowestIndex]["buffer"][i],true);masksets[rslt["activeMasksetIndex"]]["lastValidPosition"]=i;}}
rsltValid=_isValid(lowestPos,masksets[rslt["activeMasksetIndex"]],c,true);if(rsltValid!==false){setBufferElement(masksets[rslt["activeMasksetIndex"]]["buffer"],lowestPos,c,true);masksets[rslt["activeMasksetIndex"]]["lastValidPosition"]=lowestPos;}
return rslt;}}});}
return results;}
if(strict){var result=_isValid(pos,getActiveMaskSet(),c,strict);if(result===true){result={"pos":pos};}
return result;}
var results=[],result=false,currentActiveMasksetIndex=activeMasksetIndex,actualBuffer=getActiveBuffer().slice(),actualLVP=getActiveMaskSet()["lastValidPosition"],actualPrevious=seekPrevious(pos),maskForwards=[];$.each(masksets,function(index,value){if(typeof(value)=="object"){activeMasksetIndex=index;var maskPos=pos;var lvp=getActiveMaskSet()['lastValidPosition'],rsltValid;if(lvp==actualLVP){if((maskPos-actualLVP)>1){for(var i=lvp==-1?0:lvp;i<maskPos;i++){rsltValid=_isValid(i,getActiveMaskSet(),actualBuffer[i],true);if(rsltValid===false){break;}else{setBufferElement(getActiveBuffer(),i,actualBuffer[i],true);if(rsltValid===true){rsltValid={"pos":i};}
var newValidPosition=rsltValid.pos||i;if(getActiveMaskSet()['lastValidPosition']<newValidPosition)
getActiveMaskSet()['lastValidPosition']=newValidPosition;}}}
if(!isMask(maskPos)&&!_isValid(maskPos,getActiveMaskSet(),c,strict)){var maxForward=seekNext(maskPos)-maskPos;for(var fw=0;fw<maxForward;fw++){if(_isValid(++maskPos,getActiveMaskSet(),c,strict)!==false)
break;}
maskForwards.push(activeMasksetIndex);}}
if(getActiveMaskSet()['lastValidPosition']>=actualLVP||activeMasksetIndex==currentActiveMasksetIndex){if(maskPos>=0&&maskPos<getMaskLength()){result=_isValid(maskPos,getActiveMaskSet(),c,strict);if(result!==false){if(result===true){result={"pos":maskPos};}
var newValidPosition=result.pos||maskPos;if(getActiveMaskSet()['lastValidPosition']<newValidPosition)
getActiveMaskSet()['lastValidPosition']=newValidPosition;}
results.push({"activeMasksetIndex":index,"result":result});}}}});activeMasksetIndex=currentActiveMasksetIndex;return PostProcessResults(maskForwards,results);}
function determineActiveMasksetIndex(){var currentMasksetIndex=activeMasksetIndex,highestValid={"activeMasksetIndex":0,"lastValidPosition":-1,"next":-1};$.each(masksets,function(index,value){if(typeof(value)=="object"){activeMasksetIndex=index;if(getActiveMaskSet()['lastValidPosition']>highestValid['lastValidPosition']){highestValid["activeMasksetIndex"]=index;highestValid["lastValidPosition"]=getActiveMaskSet()['lastValidPosition'];highestValid["next"]=seekNext(getActiveMaskSet()['lastValidPosition']);}else if(getActiveMaskSet()['lastValidPosition']==highestValid['lastValidPosition']&&(highestValid['next']==-1||highestValid['next']>seekNext(getActiveMaskSet()['lastValidPosition']))){highestValid["activeMasksetIndex"]=index;highestValid["lastValidPosition"]=getActiveMaskSet()['lastValidPosition'];highestValid["next"]=seekNext(getActiveMaskSet()['lastValidPosition']);}}});activeMasksetIndex=highestValid["lastValidPosition"]!=-1&&masksets[currentMasksetIndex]["lastValidPosition"]==highestValid["lastValidPosition"]?currentMasksetIndex:highestValid["activeMasksetIndex"];if(currentMasksetIndex!=activeMasksetIndex){clearBuffer(getActiveBuffer(),seekNext(highestValid["lastValidPosition"]),getMaskLength());getActiveMaskSet()["writeOutBuffer"]=true;}
$el.data('_inputmask')['activeMasksetIndex']=activeMasksetIndex;}
function isMask(pos){var testPos=determineTestPosition(pos);var test=getActiveTests()[testPos];return test!=undefined?test.fn:false;}
function determineTestPosition(pos){return pos%getActiveTests().length;}
function getMaskLength(){var buffer=getActiveBufferTemplate(),greedy=getActiveMaskSet()['greedy'],repeat=getActiveMaskSet()['repeat'],currentBuffer=getActiveBuffer();if($.isFunction(opts.getMaskLength))return opts.getMaskLength(buffer,greedy,repeat,currentBuffer,opts);var calculatedLength=buffer.length;if(!greedy){if(repeat=="*"){calculatedLength=currentBuffer.length+1;}else if(repeat>1){calculatedLength+=(buffer.length*(repeat-1));}}
return calculatedLength;}
function seekNext(pos){var maskL=getMaskLength();if(pos>=maskL)return maskL;var position=pos;while(++position<maskL&&!isMask(position)){}
return position;}
function seekPrevious(pos){var position=pos;if(position<=0)return 0;while(--position>0&&!isMask(position)){};return position;}
function setBufferElement(buffer,position,element,autoPrepare){if(autoPrepare)position=prepareBuffer(buffer,position);var test=getActiveTests()[determineTestPosition(position)];var elem=element;if(elem!=undefined&&test!=undefined){switch(test.casing){case"upper":elem=element.toUpperCase();break;case"lower":elem=element.toLowerCase();break;}}
buffer[position]=elem;}
function getBufferElement(buffer,position,autoPrepare){if(autoPrepare)position=prepareBuffer(buffer,position);return buffer[position];}
function prepareBuffer(buffer,position){var j;while(buffer[position]==undefined&&buffer.length<getMaskLength()){j=0;while(getActiveBufferTemplate()[j]!==undefined){buffer.push(getActiveBufferTemplate()[j++]);}}
return position;}
function writeBuffer(input,buffer,caretPos){input._valueSet(buffer.join(''));if(caretPos!=undefined){caret(input,caretPos);}}
function clearBuffer(buffer,start,end,stripNomasks){for(var i=start,maskL=getMaskLength();i<end&&i<maskL;i++){if(stripNomasks===true){if(!isMask(i))
setBufferElement(buffer,i,"");}else
setBufferElement(buffer,i,getBufferElement(getActiveBufferTemplate().slice(),i,true));}}
function setReTargetPlaceHolder(buffer,pos){var testPos=determineTestPosition(pos);setBufferElement(buffer,pos,getBufferElement(getActiveBufferTemplate(),testPos));}
function getPlaceHolder(pos){return opts.placeholder.charAt(pos%opts.placeholder.length);}
function checkVal(input,writeOut,strict,nptvl,intelliCheck){var inputValue=nptvl!=undefined?nptvl.slice():truncateInput(input._valueGet()).split('');$.each(masksets,function(ndx,ms){if(typeof(ms)=="object"){ms["buffer"]=ms["_buffer"].slice();ms["lastValidPosition"]=-1;ms["p"]=-1;}});if(strict!==true)activeMasksetIndex=0;if(writeOut)input._valueSet("");var ml=getMaskLength();$.each(inputValue,function(ndx,charCode){if(intelliCheck===true){var p=getActiveMaskSet()["p"],lvp=p==-1?p:seekPrevious(p),pos=lvp==-1?ndx:seekNext(lvp);if($.inArray(charCode,getActiveBufferTemplate().slice(lvp+1,pos))==-1){keypressEvent.call(input,undefined,true,charCode.charCodeAt(0),writeOut,strict,ndx);}}else{keypressEvent.call(input,undefined,true,charCode.charCodeAt(0),writeOut,strict,ndx);strict=strict||(ndx>0&&ndx>getActiveMaskSet()["p"]);}});if(strict===true&&getActiveMaskSet()["p"]!=-1){getActiveMaskSet()["lastValidPosition"]=seekPrevious(getActiveMaskSet()["p"]);}}
function escapeRegex(str){return $.inputmask.escapeRegex.call(this,str);}
function truncateInput(inputValue){return inputValue.replace(new RegExp("("+escapeRegex(getActiveBufferTemplate().join(''))+")*$"),"");}
function clearOptionalTail(input){var buffer=getActiveBuffer(),tmpBuffer=buffer.slice(),testPos,pos;for(var pos=tmpBuffer.length-1;pos>=0;pos--){var testPos=determineTestPosition(pos);if(getActiveTests()[testPos].optionality){if(!isMask(pos)||!isValid(pos,buffer[pos],true))
tmpBuffer.pop();else break;}else break;}
writeBuffer(input,tmpBuffer);}
function unmaskedvalue($input,skipDatepickerCheck){if(getActiveTests()&&(skipDatepickerCheck===true||!$input.hasClass('hasDatepicker'))){var umValue=$.map(getActiveBuffer(),function(element,index){return isMask(index)&&isValid(index,element,true)?element:null;});var unmaskedValue=(isRTL?umValue.reverse():umValue).join('');var bufferValue=(isRTL?getActiveBuffer().reverse():getActiveBuffer()).join('');return $.isFunction(opts.onUnMask)?opts.onUnMask.call($input,bufferValue,unmaskedValue,opts):unmaskedValue;}else{return $input[0]._valueGet();}}
function TranslatePosition(pos){if(isRTL&&typeof pos=='number'&&(!opts.greedy||opts.placeholder!="")){var bffrLght=getActiveBuffer().length;pos=bffrLght-pos;}
return pos;}
function caret(input,begin,end){var npt=input.jquery&&input.length>0?input[0]:input,range;if(typeof begin=='number'){begin=TranslatePosition(begin);end=TranslatePosition(end);if(!$(npt).is(':visible')){return;}
end=(typeof end=='number')?end:begin;npt.scrollLeft=npt.scrollWidth;if(opts.insertMode==false&&begin==end)end++;if(npt.setSelectionRange){npt.selectionStart=begin;npt.selectionEnd=end;}else if(npt.createTextRange){range=npt.createTextRange();range.collapse(true);range.moveEnd('character',end);range.moveStart('character',begin);range.select();}}else{if(!$(input).is(':visible')){return{"begin":0,"end":0};}
if(npt.setSelectionRange){begin=npt.selectionStart;end=npt.selectionEnd;}else if(document.selection&&document.selection.createRange){range=document.selection.createRange();begin=0-range.duplicate().moveStart('character',-100000);end=begin+range.text.length;}
begin=TranslatePosition(begin);end=TranslatePosition(end);return{"begin":begin,"end":end};}}
function isComplete(buffer){if($.isFunction(opts.isComplete))return opts.isComplete.call($el,buffer,opts);if(opts.repeat=="*")return undefined;var complete=false,highestValidPosition=0,currentActiveMasksetIndex=activeMasksetIndex;$.each(masksets,function(ndx,ms){if(typeof(ms)=="object"){activeMasksetIndex=ndx;var aml=seekPrevious(getMaskLength());if(ms["lastValidPosition"]>=highestValidPosition&&ms["lastValidPosition"]==aml){var msComplete=true;for(var i=0;i<=aml;i++){var mask=isMask(i),testPos=determineTestPosition(i);if((mask&&(buffer[i]==undefined||buffer[i]==getPlaceHolder(i)))||(!mask&&buffer[i]!=getActiveBufferTemplate()[testPos])){msComplete=false;break;}}
complete=complete||msComplete;if(complete)
return false;}
highestValidPosition=ms["lastValidPosition"];}});activeMasksetIndex=currentActiveMasksetIndex;return complete;}
function isSelection(begin,end){return isRTL?(begin-end)>1||((begin-end)==1&&opts.insertMode):(end-begin)>1||((end-begin)==1&&opts.insertMode);}
function installEventRuler(npt){var events=$._data(npt).events;$.each(events,function(eventType,eventHandlers){$.each(eventHandlers,function(ndx,eventHandler){if(eventHandler.namespace=="inputmask"){if(eventHandler.type!="setvalue"){var handler=eventHandler.handler;eventHandler.handler=function(e){if(this.readOnly||this.disabled)
e.preventDefault;else
return handler.apply(this,arguments);};}}});});}
function patchValueProperty(npt){function PatchValhook(type){if($.valHooks[type]==undefined||$.valHooks[type].inputmaskpatch!=true){var valueGet=$.valHooks[type]&&$.valHooks[type].get?$.valHooks[type].get:function(elem){return elem.value;};var valueSet=$.valHooks[type]&&$.valHooks[type].set?$.valHooks[type].set:function(elem,value){elem.value=value;return elem;};$.valHooks[type]={get:function(elem){var $elem=$(elem);if($elem.data('_inputmask')){if($elem.data('_inputmask')['opts'].autoUnmask)
return $elem.inputmask('unmaskedvalue');else{var result=valueGet(elem),inputData=$elem.data('_inputmask'),masksets=inputData['masksets'],activeMasksetIndex=inputData['activeMasksetIndex'];return result!=masksets[activeMasksetIndex]['_buffer'].join('')?result:'';}}else return valueGet(elem);},set:function(elem,value){var $elem=$(elem);var result=valueSet(elem,value);if($elem.data('_inputmask'))$elem.triggerHandler('setvalue.inputmask');return result;},inputmaskpatch:true};}}
var valueProperty;if(Object.getOwnPropertyDescriptor)
valueProperty=Object.getOwnPropertyDescriptor(npt,"value");if(valueProperty&&valueProperty.get){if(!npt._valueGet){var valueGet=valueProperty.get;var valueSet=valueProperty.set;npt._valueGet=function(){return isRTL?valueGet.call(this).split('').reverse().join(''):valueGet.call(this);};npt._valueSet=function(value){valueSet.call(this,isRTL?value.split('').reverse().join(''):value);};Object.defineProperty(npt,"value",{get:function(){var $self=$(this),inputData=$(this).data('_inputmask'),masksets=inputData['masksets'],activeMasksetIndex=inputData['activeMasksetIndex'];return inputData&&inputData['opts'].autoUnmask?$self.inputmask('unmaskedvalue'):valueGet.call(this)!=masksets[activeMasksetIndex]['_buffer'].join('')?valueGet.call(this):'';},set:function(value){valueSet.call(this,value);$(this).triggerHandler('setvalue.inputmask');}});}}else if(document.__lookupGetter__&&npt.__lookupGetter__("value")){if(!npt._valueGet){var valueGet=npt.__lookupGetter__("value");var valueSet=npt.__lookupSetter__("value");npt._valueGet=function(){return isRTL?valueGet.call(this).split('').reverse().join(''):valueGet.call(this);};npt._valueSet=function(value){valueSet.call(this,isRTL?value.split('').reverse().join(''):value);};npt.__defineGetter__("value",function(){var $self=$(this),inputData=$(this).data('_inputmask'),masksets=inputData['masksets'],activeMasksetIndex=inputData['activeMasksetIndex'];return inputData&&inputData['opts'].autoUnmask?$self.inputmask('unmaskedvalue'):valueGet.call(this)!=masksets[activeMasksetIndex]['_buffer'].join('')?valueGet.call(this):'';});npt.__defineSetter__("value",function(value){valueSet.call(this,value);$(this).triggerHandler('setvalue.inputmask');});}}else{if(!npt._valueGet){npt._valueGet=function(){return isRTL?this.value.split('').reverse().join(''):this.value;};npt._valueSet=function(value){this.value=isRTL?value.split('').reverse().join(''):value;};}
PatchValhook(npt.type);}}
function shiftL(start,end,c,maskJumps){var buffer=getActiveBuffer();if(maskJumps!==false)
while(!isMask(start)&&start-1>=0)start--;for(var i=start;i<end&&i<getMaskLength();i++){if(isMask(i)){setReTargetPlaceHolder(buffer,i);var j=seekNext(i);var p=getBufferElement(buffer,j);if(p!=getPlaceHolder(j)){if(j<getMaskLength()&&isValid(i,p,true)!==false&&getActiveTests()[determineTestPosition(i)].def==getActiveTests()[determineTestPosition(j)].def){setBufferElement(buffer,i,p,true);}else{if(isMask(i))
break;}}}else{setReTargetPlaceHolder(buffer,i);}}
if(c!=undefined)
setBufferElement(buffer,seekPrevious(end),c);if(getActiveMaskSet()["greedy"]==false){var trbuffer=truncateInput(buffer.join('')).split('');buffer.length=trbuffer.length;for(var i=0,bl=buffer.length;i<bl;i++){buffer[i]=trbuffer[i];}
if(buffer.length==0)getActiveMaskSet()["buffer"]=getActiveBufferTemplate().slice();}
return start;}
function shiftR(start,end,c){var buffer=getActiveBuffer();if(getBufferElement(buffer,start,true)!=getPlaceHolder(start)){for(var i=seekPrevious(end);i>start&&i>=0;i--){if(isMask(i)){var j=seekPrevious(i);var t=getBufferElement(buffer,j);if(t!=getPlaceHolder(j)){if(isValid(i,t,true)!==false&&getActiveTests()[determineTestPosition(i)].def==getActiveTests()[determineTestPosition(j)].def){setBufferElement(buffer,i,t,true);setReTargetPlaceHolder(buffer,j);}}}else
setReTargetPlaceHolder(buffer,i);}}
if(c!=undefined&&getBufferElement(buffer,start)==getPlaceHolder(start))
setBufferElement(buffer,start,c);var lengthBefore=buffer.length;if(getActiveMaskSet()["greedy"]==false){var trbuffer=truncateInput(buffer.join('')).split('');buffer.length=trbuffer.length;for(var i=0,bl=buffer.length;i<bl;i++){buffer[i]=trbuffer[i];}
if(buffer.length==0)getActiveMaskSet()["buffer"]=getActiveBufferTemplate().slice();}
return end-(lengthBefore-buffer.length);};function HandleRemove(input,k,pos){if(opts.numericInput||isRTL){switch(k){case opts.keyCode.BACKSPACE:k=opts.keyCode.DELETE;break;case opts.keyCode.DELETE:k=opts.keyCode.BACKSPACE;break;}
if(isRTL){var pend=pos.end;pos.end=pos.begin;pos.begin=pend;}}
var isSelection=true;if(pos.begin==pos.end){var posBegin=k==opts.keyCode.BACKSPACE?pos.begin-1:pos.begin;if(opts.isNumeric&&opts.radixPoint!=""&&getActiveBuffer()[posBegin]==opts.radixPoint){pos.begin=(getActiveBuffer().length-1==posBegin)?pos.begin:k==opts.keyCode.BACKSPACE?posBegin:seekNext(posBegin);pos.end=pos.begin;}
isSelection=false;if(k==opts.keyCode.BACKSPACE)
pos.begin--;else if(k==opts.keyCode.DELETE)
pos.end++;}else if(pos.end-pos.begin==1&&!opts.insertMode){isSelection=false;if(k==opts.keyCode.BACKSPACE)
pos.begin--;}
clearBuffer(getActiveBuffer(),pos.begin,pos.end);var ml=getMaskLength();if(opts.greedy==false&&(isNaN(opts.repeat)||opts.repeat>0)){shiftL(pos.begin,ml,undefined,!isRTL&&(k==opts.keyCode.BACKSPACE&&!isSelection));}else{var newpos=pos.begin;for(var i=pos.begin;i<pos.end;i++){if(isMask(i)||!isSelection)
newpos=shiftL(pos.begin,ml,undefined,!isRTL&&(k==opts.keyCode.BACKSPACE&&!isSelection));}
if(!isSelection)pos.begin=newpos;}
var firstMaskPos=seekNext(-1);clearBuffer(getActiveBuffer(),pos.begin,pos.end,true);checkVal(input,false,false,getActiveBuffer());if(getActiveMaskSet()['lastValidPosition']<firstMaskPos){getActiveMaskSet()["lastValidPosition"]=-1;getActiveMaskSet()["p"]=firstMaskPos;}else{getActiveMaskSet()["p"]=pos.begin;}}
function keydownEvent(e){skipKeyPressEvent=false;var input=this,$input=$(input),k=e.keyCode,pos=caret(input);if(k==opts.keyCode.BACKSPACE||k==opts.keyCode.DELETE||(iphone&&k==127)||e.ctrlKey&&k==88){e.preventDefault();if(k==88)valueOnFocus=getActiveBuffer().join('');HandleRemove(input,k,pos);determineActiveMasksetIndex();writeBuffer(input,getActiveBuffer(),getActiveMaskSet()["p"]);if(input._valueGet()==getActiveBufferTemplate().join(''))
$input.trigger('cleared');if(opts.showTooltip){$input.prop("title",getActiveMaskSet()["mask"]);}}else if(k==opts.keyCode.END||k==opts.keyCode.PAGE_DOWN){setTimeout(function(){var caretPos=seekNext(getActiveMaskSet()["lastValidPosition"]);if(!opts.insertMode&&caretPos==getMaskLength()&&!e.shiftKey)caretPos--;caret(input,e.shiftKey?pos.begin:caretPos,caretPos);},0);}else if((k==opts.keyCode.HOME&&!e.shiftKey)||k==opts.keyCode.PAGE_UP){caret(input,0,e.shiftKey?pos.begin:0);}else if(k==opts.keyCode.ESCAPE||(k==90&&e.ctrlKey)){checkVal(input,true,false,valueOnFocus.split(''));$input.click();}else if(k==opts.keyCode.INSERT&&!(e.shiftKey||e.ctrlKey)){opts.insertMode=!opts.insertMode;caret(input,!opts.insertMode&&pos.begin==getMaskLength()?pos.begin-1:pos.begin);}else if(opts.insertMode==false&&!e.shiftKey){if(k==opts.keyCode.RIGHT){setTimeout(function(){var caretPos=caret(input);caret(input,caretPos.begin);},0);}else if(k==opts.keyCode.LEFT){setTimeout(function(){var caretPos=caret(input);caret(input,caretPos.begin-1);},0);}}
var currentCaretPos=caret(input);if(opts.onKeyDown.call(this,e,getActiveBuffer(),opts)===true)
caret(input,currentCaretPos.begin,currentCaretPos.end);ignorable=$.inArray(k,opts.ignorables)!=-1;}
function keypressEvent(e,checkval,k,writeOut,strict,ndx){if(k==undefined&&skipKeyPressEvent)return false;skipKeyPressEvent=true;var input=this,$input=$(input);e=e||window.event;var k=checkval?k:(e.which||e.charCode||e.keyCode);if(checkval!==true&&(!(e.ctrlKey&&e.altKey)&&(e.ctrlKey||e.metaKey||ignorable))){return true;}else{if(k){if(checkval!==true&&k==46&&e.shiftKey==false&&opts.radixPoint==",")k=44;var pos,results,result,c=String.fromCharCode(k);if(checkval){var pcaret=strict?ndx:getActiveMaskSet()["lastValidPosition"]+1;pos={begin:pcaret,end:pcaret};}else{pos=caret(input);}
var isSlctn=isSelection(pos.begin,pos.end),initialIndex=activeMasksetIndex;if(isSlctn){$.each(masksets,function(ndx,lmnt){if(typeof(lmnt)=="object"){activeMasksetIndex=ndx;getActiveMaskSet()["undoBuffer"]=getActiveBuffer().join('');}});activeMasksetIndex=initialIndex;HandleRemove(input,opts.keyCode.DELETE,pos);if(!opts.insertMode){$.each(masksets,function(ndx,lmnt){if(typeof(lmnt)=="object"){activeMasksetIndex=ndx;shiftR(pos.begin,getMaskLength());getActiveMaskSet()["lastValidPosition"]=seekNext(getActiveMaskSet()["lastValidPosition"]);}});}
activeMasksetIndex=initialIndex;}
var radixPosition=getActiveBuffer().join('').indexOf(opts.radixPoint);if(opts.isNumeric&&checkval!==true&&radixPosition!=-1){if(opts.greedy&&pos.begin<=radixPosition){pos.begin=seekPrevious(pos.begin);pos.end=pos.begin;}else if(c==opts.radixPoint){pos.begin=radixPosition;pos.end=pos.begin;}}
var p=pos.begin;results=isValid(p,c,strict);if(strict===true)results=[{"activeMasksetIndex":activeMasksetIndex,"result":results}];var minimalForwardPosition=-1;$.each(results,function(index,result){activeMasksetIndex=result["activeMasksetIndex"];getActiveMaskSet()["writeOutBuffer"]=true;var np=result["result"];if(np!==false){var refresh=false,buffer=getActiveBuffer();if(np!==true){refresh=np["refresh"];p=np.pos!=undefined?np.pos:p;c=np.c!=undefined?np.c:c;}
if(refresh!==true){if(opts.insertMode==true){var lastUnmaskedPosition=getMaskLength();var bfrClone=buffer.slice();while(getBufferElement(bfrClone,lastUnmaskedPosition,true)!=getPlaceHolder(lastUnmaskedPosition)&&lastUnmaskedPosition>=p){lastUnmaskedPosition=lastUnmaskedPosition==0?-1:seekPrevious(lastUnmaskedPosition);}
if(lastUnmaskedPosition>=p){shiftR(p,getMaskLength(),c);var lvp=getActiveMaskSet()["lastValidPosition"],nlvp=seekNext(lvp);if(nlvp!=getMaskLength()&&lvp>=p&&(getBufferElement(getActiveBuffer().slice(),nlvp,true)!=getPlaceHolder(nlvp))){getActiveMaskSet()["lastValidPosition"]=nlvp;}}else getActiveMaskSet()["writeOutBuffer"]=false;}else setBufferElement(buffer,p,c,true);if(minimalForwardPosition==-1||minimalForwardPosition>seekNext(p)){minimalForwardPosition=seekNext(p);}}else if(!strict){var nextPos=p<getMaskLength()?p+1:p;if(minimalForwardPosition==-1||minimalForwardPosition>nextPos){minimalForwardPosition=nextPos;}}
if(minimalForwardPosition>getActiveMaskSet()["p"])
getActiveMaskSet()["p"]=minimalForwardPosition;}});if(strict!==true){activeMasksetIndex=initialIndex;determineActiveMasksetIndex();}
if(writeOut!==false){$.each(results,function(ndx,rslt){if(rslt["activeMasksetIndex"]==activeMasksetIndex){result=rslt;return false;}});if(result!=undefined){var self=this;setTimeout(function(){opts.onKeyValidation.call(self,result["result"],opts);},0);if(getActiveMaskSet()["writeOutBuffer"]&&result["result"]!==false){var buffer=getActiveBuffer();var newCaretPosition;if(checkval){newCaretPosition=undefined;}else if(opts.numericInput){if(p>radixPosition){newCaretPosition=seekPrevious(minimalForwardPosition);}else if(c==opts.radixPoint){newCaretPosition=minimalForwardPosition-1;}else newCaretPosition=seekPrevious(minimalForwardPosition-1);}else{newCaretPosition=minimalForwardPosition;}
writeBuffer(input,buffer,newCaretPosition);if(checkval!==true){setTimeout(function(){if(isComplete(buffer)===true)
$input.trigger("complete");skipInputEvent=true;$input.trigger("input");},0);}}else if(isSlctn){getActiveMaskSet()["buffer"]=getActiveMaskSet()["undoBuffer"].split('');}}else if(isSlctn){getActiveMaskSet()["buffer"]=getActiveMaskSet()["undoBuffer"].split('');}}
if(opts.showTooltip){$input.prop("title",getActiveMaskSet()["mask"]);}
if(e)e.preventDefault?e.preventDefault():e.returnValue=false;}}}
function keyupEvent(e){var $input=$(this),input=this,k=e.keyCode,buffer=getActiveBuffer();opts.onKeyUp.call(this,e,buffer,opts);if(k==opts.keyCode.TAB&&opts.showMaskOnFocus){if($input.hasClass('focus.inputmask')&&input._valueGet().length==0){buffer=getActiveBufferTemplate().slice();writeBuffer(input,buffer);caret(input,0);valueOnFocus=getActiveBuffer().join('');}else{writeBuffer(input,buffer);if(buffer.join('')==getActiveBufferTemplate().join('')&&$.inArray(opts.radixPoint,buffer)!=-1){caret(input,TranslatePosition(0));$input.click();}else
caret(input,TranslatePosition(0),TranslatePosition(getMaskLength()));}}}
function pasteEvent(e){if(skipInputEvent===true&&e.type=="input"){skipInputEvent=false;return true;}
var input=this,$input=$(input);if(e.type=="propertychange"&&input._valueGet().length<=getMaskLength()){return true;}
setTimeout(function(){var pasteValue=$.isFunction(opts.onBeforePaste)?opts.onBeforePaste.call(input,input._valueGet(),opts):input._valueGet();checkVal(input,false,false,pasteValue.split(''),true);writeBuffer(input,getActiveBuffer());if(isComplete(getActiveBuffer())===true)
$input.trigger("complete");$input.click();},0);}
function mobileInputEvent(e){var input=this,$input=$(input);var caretPos=caret(input),currentValue=input._valueGet();currentValue=currentValue.replace(new RegExp("("+escapeRegex(getActiveBufferTemplate().join(''))+")*"),"");if(caretPos.begin>currentValue.length){caret(input,currentValue.length);caretPos=caret(input);}
if((getActiveBuffer().length-currentValue.length)==1&&currentValue.charAt(caretPos.begin)!=getActiveBuffer()[caretPos.begin]&&currentValue.charAt(caretPos.begin+1)!=getActiveBuffer()[caretPos.begin]&&!isMask(caretPos.begin)){e.keyCode=opts.keyCode.BACKSPACE;keydownEvent.call(input,e);}else{checkVal(input,false,false,currentValue.split(''));writeBuffer(input,getActiveBuffer());if(isComplete(getActiveBuffer())===true)
$input.trigger("complete");$input.click();}
e.preventDefault();}
function mask(el){$el=$(el);if($el.is(":input")){$el.data('_inputmask',{'masksets':masksets,'activeMasksetIndex':activeMasksetIndex,'opts':opts,'isRTL':false});if(opts.showTooltip){$el.prop("title",getActiveMaskSet()["mask"]);}
getActiveMaskSet()['greedy']=getActiveMaskSet()['greedy']?getActiveMaskSet()['greedy']:getActiveMaskSet()['repeat']==0;if($el.attr("maxLength")!=null)
{var maxLength=$el.prop('maxLength');if(maxLength>-1){$.each(masksets,function(ndx,ms){if(typeof(ms)=="object"){if(ms["repeat"]=="*"){ms["repeat"]=maxLength;}}});}
if(getMaskLength()>=maxLength&&maxLength>-1){if(maxLength<getActiveBufferTemplate().length)getActiveBufferTemplate().length=maxLength;if(getActiveMaskSet()['greedy']==false){getActiveMaskSet()['repeat']=Math.round(maxLength/getActiveBufferTemplate().length);}
$el.prop('maxLength',getMaskLength()*2);}}
patchValueProperty(el);if(opts.numericInput)opts.isNumeric=opts.numericInput;if(el.dir=="rtl"||(opts.numericInput&&opts.rightAlignNumerics)||(opts.isNumeric&&opts.rightAlignNumerics))
$el.css("text-align","right");if(el.dir=="rtl"||opts.numericInput){el.dir="ltr";$el.removeAttr("dir");var inputData=$el.data('_inputmask');inputData['isRTL']=true;$el.data('_inputmask',inputData);isRTL=true;}
$el.unbind(".inputmask");$el.removeClass('focus.inputmask');$el.closest('form').bind("submit",function(){if(valueOnFocus!=getActiveBuffer().join('')){$el.change();}}).bind('reset',function(){setTimeout(function(){$el.trigger("setvalue");},0);});$el.bind("mouseenter.inputmask",function(){var $input=$(this),input=this;if(!$input.hasClass('focus.inputmask')&&opts.showMaskOnHover){if(input._valueGet()!=getActiveBuffer().join('')){writeBuffer(input,getActiveBuffer());}}}).bind("blur.inputmask",function(){var $input=$(this),input=this,nptValue=input._valueGet(),buffer=getActiveBuffer();$input.removeClass('focus.inputmask');if(valueOnFocus!=getActiveBuffer().join('')){$input.change();}
if(opts.clearMaskOnLostFocus&&nptValue!=''){if(nptValue==getActiveBufferTemplate().join(''))
input._valueSet('');else{clearOptionalTail(input);}}
if(isComplete(buffer)===false){$input.trigger("incomplete");if(opts.clearIncomplete){$.each(masksets,function(ndx,ms){if(typeof(ms)=="object"){ms["buffer"]=ms["_buffer"].slice();ms["lastValidPosition"]=-1;}});activeMasksetIndex=0;if(opts.clearMaskOnLostFocus)
input._valueSet('');else{buffer=getActiveBufferTemplate().slice();writeBuffer(input,buffer);}}}}).bind("focus.inputmask",function(){var $input=$(this),input=this,nptValue=input._valueGet();if(opts.showMaskOnFocus&&!$input.hasClass('focus.inputmask')&&(!opts.showMaskOnHover||(opts.showMaskOnHover&&nptValue==''))){if(input._valueGet()!=getActiveBuffer().join('')){writeBuffer(input,getActiveBuffer(),seekNext(getActiveMaskSet()["lastValidPosition"]));}}
$input.addClass('focus.inputmask');valueOnFocus=getActiveBuffer().join('');}).bind("mouseleave.inputmask",function(){var $input=$(this),input=this;if(opts.clearMaskOnLostFocus){if(!$input.hasClass('focus.inputmask')&&input._valueGet()!=$input.attr("placeholder")){if(input._valueGet()==getActiveBufferTemplate().join('')||input._valueGet()=='')
input._valueSet('');else{clearOptionalTail(input);}}}}).bind("click.inputmask",function(){var input=this;setTimeout(function(){var selectedCaret=caret(input),buffer=getActiveBuffer();if(selectedCaret.begin==selectedCaret.end){var clickPosition=isRTL?TranslatePosition(selectedCaret.begin):selectedCaret.begin,lvp=getActiveMaskSet()["lastValidPosition"],lastPosition;if(opts.isNumeric){lastPosition=opts.skipRadixDance===false&&opts.radixPoint!=""&&$.inArray(opts.radixPoint,buffer)!=-1?(opts.numericInput?seekNext($.inArray(opts.radixPoint,buffer)):$.inArray(opts.radixPoint,buffer)):seekNext(lvp);}else{lastPosition=seekNext(lvp);}
if(clickPosition<lastPosition){if(isMask(clickPosition))
caret(input,clickPosition);else caret(input,seekNext(clickPosition));}else
caret(input,lastPosition);}},0);}).bind('dblclick.inputmask',function(){var input=this;setTimeout(function(){caret(input,0,seekNext(getActiveMaskSet()["lastValidPosition"]));},0);}).bind(PasteEventType+".inputmask dragdrop.inputmask drop.inputmask",pasteEvent).bind('setvalue.inputmask',function(){var input=this;checkVal(input,true);valueOnFocus=getActiveBuffer().join('');if(input._valueGet()==getActiveBufferTemplate().join(''))
input._valueSet('');}).bind('complete.inputmask',opts.oncomplete).bind('incomplete.inputmask',opts.onincomplete).bind('cleared.inputmask',opts.oncleared);$el.bind("keydown.inputmask",keydownEvent).bind("keypress.inputmask",keypressEvent).bind("keyup.inputmask",keyupEvent);if(android||androidfirefox||androidchrome||kindle){$el.attr("autocomplete","off").attr("autocorrect","off").attr("autocapitalize","off").attr("spellcheck",false);if(androidfirefox||kindle){$el.unbind("keydown.inputmask",keydownEvent).unbind("keypress.inputmask",keypressEvent).unbind("keyup.inputmask",keyupEvent);if(PasteEventType=="input"){$el.unbind(PasteEventType+".inputmask");}
$el.bind("input.inputmask",mobileInputEvent);}}
if(msie1x)
$el.bind("input.inputmask",pasteEvent);var initialValue=$.isFunction(opts.onBeforeMask)?opts.onBeforeMask.call(el,el._valueGet(),opts):el._valueGet();checkVal(el,true,false,initialValue.split(''));valueOnFocus=getActiveBuffer().join('');var activeElement;try{activeElement=document.activeElement;}catch(e){}
if(activeElement===el){$el.addClass('focus.inputmask');caret(el,seekNext(getActiveMaskSet()["lastValidPosition"]));}else if(opts.clearMaskOnLostFocus){if(getActiveBuffer().join('')==getActiveBufferTemplate().join('')){el._valueSet('');}else{clearOptionalTail(el);}}else{writeBuffer(el,getActiveBuffer());}
installEventRuler(el);}}
if(actionObj!=undefined){switch(actionObj["action"]){case"isComplete":return isComplete(actionObj["buffer"]);case"unmaskedvalue":isRTL=actionObj["$input"].data('_inputmask')['isRTL'];return unmaskedvalue(actionObj["$input"],actionObj["skipDatepickerCheck"]);case"mask":mask(actionObj["el"]);break;case"format":$el=$({});$el.data('_inputmask',{'masksets':masksets,'activeMasksetIndex':activeMasksetIndex,'opts':opts,'isRTL':opts.numericInput});if(opts.numericInput){opts.isNumeric=opts.numericInput;isRTL=true;}
var valueBuffer=actionObj["value"].split('');checkVal($el,false,false,isRTL?valueBuffer.reverse():valueBuffer,true);return isRTL?getActiveBuffer().reverse().join(''):getActiveBuffer().join('');case"isValid":$el=$({});$el.data('_inputmask',{'masksets':masksets,'activeMasksetIndex':activeMasksetIndex,'opts':opts,'isRTL':opts.numericInput});if(opts.numericInput){opts.isNumeric=opts.numericInput;isRTL=true;}
var valueBuffer=actionObj["value"].split('');checkVal($el,false,true,isRTL?valueBuffer.reverse():valueBuffer);return isComplete(getActiveBuffer());}}};$.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},escapeChar:"\\",mask:null,oncomplete:$.noop,onincomplete:$.noop,oncleared:$.noop,repeat:0,greedy:true,autoUnmask:false,clearMaskOnLostFocus:true,insertMode:true,clearIncomplete:false,aliases:{},onKeyUp:$.noop,onKeyDown:$.noop,onBeforeMask:undefined,onBeforePaste:undefined,onUnMask:undefined,showMaskOnFocus:true,showMaskOnHover:true,onKeyValidation:$.noop,skipOptionalPartCharacter:" ",showTooltip:false,numericInput:false,isNumeric:false,radixPoint:"",skipRadixDance:false,rightAlignNumerics:true,definitions:{'9':{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},'a':{validator:"[A-Za-z\u0410-\u044F\u0401\u0451]",cardinality:1,definitionSymbol:"*"},'*':{validator:"[A-Za-z\u0410-\u044F\u0401\u04510-9]",cardinality:1}},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],getMaskLength:undefined,isComplete:undefined},escapeRegex:function(str){var specials=['/','.','*','+','?','|','(',')','[',']','{','}','\\'];return str.replace(new RegExp('(\\'+specials.join('|\\')+')','gim'),'\\$1');},format:function(value,options){var opts=$.extend(true,{},$.inputmask.defaults,options);resolveAlias(opts.alias,options,opts);return maskScope(generateMaskSets(opts),0,opts,{"action":"format","value":value});},isValid:function(value,options){var opts=$.extend(true,{},$.inputmask.defaults,options);resolveAlias(opts.alias,options,opts);return maskScope(generateMaskSets(opts),0,opts,{"action":"isValid","value":value});}};$.fn.inputmask=function(fn,options){var opts=$.extend(true,{},$.inputmask.defaults,options),masksets,activeMasksetIndex=0;if(typeof fn==="string"){switch(fn){case"mask":resolveAlias(opts.alias,options,opts);masksets=generateMaskSets(opts);if(masksets.length==0){return this;}
return this.each(function(){maskScope($.extend(true,{},masksets),0,opts,{"action":"mask","el":this});});case"unmaskedvalue":var $input=$(this),input=this;if($input.data('_inputmask')){masksets=$input.data('_inputmask')['masksets'];activeMasksetIndex=$input.data('_inputmask')['activeMasksetIndex'];opts=$input.data('_inputmask')['opts'];return maskScope(masksets,activeMasksetIndex,opts,{"action":"unmaskedvalue","$input":$input});}else return $input.val();case"remove":return this.each(function(){var $input=$(this),input=this;if($input.data('_inputmask')){masksets=$input.data('_inputmask')['masksets'];activeMasksetIndex=$input.data('_inputmask')['activeMasksetIndex'];opts=$input.data('_inputmask')['opts'];input._valueSet(maskScope(masksets,activeMasksetIndex,opts,{"action":"unmaskedvalue","$input":$input,"skipDatepickerCheck":true}));$input.removeData('_inputmask');$input.unbind(".inputmask");$input.removeClass('focus.inputmask');var valueProperty;if(Object.getOwnPropertyDescriptor)
valueProperty=Object.getOwnPropertyDescriptor(input,"value");if(valueProperty&&valueProperty.get){if(input._valueGet){Object.defineProperty(input,"value",{get:input._valueGet,set:input._valueSet});}}else if(document.__lookupGetter__&&input.__lookupGetter__("value")){if(input._valueGet){input.__defineGetter__("value",input._valueGet);input.__defineSetter__("value",input._valueSet);}}
try{delete input._valueGet;delete input._valueSet;}catch(e){input._valueGet=undefined;input._valueSet=undefined;}}});break;case"getemptymask":if(this.data('_inputmask')){masksets=this.data('_inputmask')['masksets'];activeMasksetIndex=this.data('_inputmask')['activeMasksetIndex'];return masksets[activeMasksetIndex]['_buffer'].join('');}
else return"";case"hasMaskedValue":return this.data('_inputmask')?!this.data('_inputmask')['opts'].autoUnmask:false;case"isComplete":if(this.data('_inputmask')){masksets=this.data('_inputmask')['masksets'];activeMasksetIndex=this.data('_inputmask')['activeMasksetIndex'];opts=this.data('_inputmask')['opts'];return maskScope(masksets,activeMasksetIndex,opts,{"action":"isComplete","buffer":this[0]._valueGet().split('')});}
else return true;case"getmetadata":if(this.data('_inputmask')){masksets=this.data('_inputmask')['masksets'];activeMasksetIndex=this.data('_inputmask')['activeMasksetIndex'];return masksets[activeMasksetIndex]['metadata'];}
else return undefined;default:if(!resolveAlias(fn,options,opts)){opts.mask=fn;}
masksets=generateMaskSets(opts);if(masksets.length==0){return this;}
return this.each(function(){maskScope($.extend(true,{},masksets),activeMasksetIndex,opts,{"action":"mask","el":this});});break;}}else if(typeof fn=="object"){opts=$.extend(true,{},$.inputmask.defaults,fn);resolveAlias(opts.alias,fn,opts);masksets=generateMaskSets(opts);if(masksets.length==0){return this;}
return this.each(function(){maskScope($.extend(true,{},masksets),activeMasksetIndex,opts,{"action":"mask","el":this});});}else if(fn==undefined){return this.each(function(){var attrOptions=$(this).attr("data-inputmask");if(attrOptions&&attrOptions!=""){try{attrOptions=attrOptions.replace(new RegExp("'","g"),'"');var dataoptions=$.parseJSON("{"+attrOptions+"}");$.extend(true,dataoptions,options);opts=$.extend(true,{},$.inputmask.defaults,dataoptions);resolveAlias(opts.alias,dataoptions,opts);opts.alias=undefined;$(this).inputmask(opts);}catch(ex){}}});}};}})(jQuery);(function($){$.extend($.inputmask.defaults.definitions,{'A':{validator:"[A-Za-z]",cardinality:1,casing:"upper"},'#':{validator:"[A-Za-z\u0410-\u044F\u0401\u04510-9]",cardinality:1,casing:"upper"}});$.extend($.inputmask.defaults.aliases,{'url':{mask:"ir",placeholder:"",separator:"",defaultPrefix:"http://",regex:{urlpre1:new RegExp("[fh]"),urlpre2:new RegExp("(ft|ht)"),urlpre3:new RegExp("(ftp|htt)"),urlpre4:new RegExp("(ftp:|http|ftps)"),urlpre5:new RegExp("(ftp:/|ftps:|http:|https)"),urlpre6:new RegExp("(ftp://|ftps:/|http:/|https:)"),urlpre7:new RegExp("(ftp://|ftps://|http://|https:/)"),urlpre8:new RegExp("(ftp://|ftps://|http://|https://)")},definitions:{'i':{validator:function(chrs,buffer,pos,strict,opts){return true;},cardinality:8,prevalidator:(function(){var result=[],prefixLimit=8;for(var i=0;i<prefixLimit;i++){result[i]=(function(){var j=i;return{validator:function(chrs,buffer,pos,strict,opts){if(opts.regex["urlpre"+(j+1)]){var tmp=chrs,k;if(((j+1)-chrs.length)>0){tmp=buffer.join('').substring(0,((j+1)-chrs.length))+""+tmp;}
var isValid=opts.regex["urlpre"+(j+1)].test(tmp);if(!strict&&!isValid){pos=pos-j;for(k=0;k<opts.defaultPrefix.length;k++){buffer[pos]=opts.defaultPrefix[k];pos++;}
for(k=0;k<tmp.length-1;k++){buffer[pos]=tmp[k];pos++;}
return{"pos":pos};}
return isValid;}else{return false;}},cardinality:j};})();}
return result;})()},"r":{validator:".",cardinality:50}},insertMode:false,autoUnmask:false},"ip":{mask:["[[x]y]z.[[x]y]z.[[x]y]z.x[yz]","[[x]y]z.[[x]y]z.[[x]y]z.[[x]y][z]"],definitions:{'x':{validator:"[012]",cardinality:1,definitionSymbol:"i"},'y':{validator:function(chrs,buffer,pos,strict,opts){if(pos-1>-1&&buffer[pos-1]!=".")
chrs=buffer[pos-1]+chrs;else chrs="0"+chrs;return new RegExp("2[0-5]|[01][0-9]").test(chrs);},cardinality:1,definitionSymbol:"i"},'z':{validator:function(chrs,buffer,pos,strict,opts){if(pos-1>-1&&buffer[pos-1]!="."){chrs=buffer[pos-1]+chrs;if(pos-2>-1&&buffer[pos-2]!="."){chrs=buffer[pos-2]+chrs;}else chrs="0"+chrs;}else chrs="00"+chrs;return new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]").test(chrs);},cardinality:1,definitionSymbol:"i"}}}});})(jQuery);(function($){$.extend($.inputmask.defaults.definitions,{'h':{validator:"[01][0-9]|2[0-3]",cardinality:2,prevalidator:[{validator:"[0-2]",cardinality:1}]},'s':{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:"[0-5]",cardinality:1}]},'d':{validator:"0[1-9]|[12][0-9]|3[01]",cardinality:2,prevalidator:[{validator:"[0-3]",cardinality:1}]},'m':{validator:"0[1-9]|1[012]",cardinality:2,prevalidator:[{validator:"[01]",cardinality:1}]},'y':{validator:"(19|20)\\d{2}",cardinality:4,prevalidator:[{validator:"[12]",cardinality:1},{validator:"(19|20)",cardinality:2},{validator:"(19|20)\\d",cardinality:3}]}});$.extend($.inputmask.defaults.aliases,{'dd/mm/yyyy':{mask:"1/2/y",placeholder:"dd/mm/yyyy",regex:{val1pre:new RegExp("[0-3]"),val1:new RegExp("0[1-9]|[12][0-9]|3[01]"),val2pre:function(separator){var escapedSeparator=$.inputmask.escapeRegex.call(this,separator);return new RegExp("((0[1-9]|[12][0-9]|3[01])"+escapedSeparator+"[01])");},val2:function(separator){var escapedSeparator=$.inputmask.escapeRegex.call(this,separator);return new RegExp("((0[1-9]|[12][0-9])"+escapedSeparator+"(0[1-9]|1[012]))|(30"+escapedSeparator+"(0[13-9]|1[012]))|(31"+escapedSeparator+"(0[13578]|1[02]))");}},leapday:"29/02/",separator:'/',yearrange:{minyear:1900,maxyear:2099},isInYearRange:function(chrs,minyear,maxyear){var enteredyear=parseInt(chrs.concat(minyear.toString().slice(chrs.length)));var enteredyear2=parseInt(chrs.concat(maxyear.toString().slice(chrs.length)));return(!isNaN(enteredyear)?minyear<=enteredyear&&enteredyear<=maxyear:false)||(!isNaN(enteredyear2)?minyear<=enteredyear2&&enteredyear2<=maxyear:false);},determinebaseyear:function(minyear,maxyear,hint){var currentyear=(new Date()).getFullYear();if(minyear>currentyear)return minyear;if(maxyear<currentyear){var maxYearPrefix=maxyear.toString().slice(0,2);var maxYearPostfix=maxyear.toString().slice(2,4);while(maxyear<maxYearPrefix+hint){maxYearPrefix--;}
var maxxYear=maxYearPrefix+maxYearPostfix;return minyear>maxxYear?minyear:maxxYear;}
return currentyear;},onKeyUp:function(e,buffer,opts){var $input=$(this);if(e.ctrlKey&&e.keyCode==opts.keyCode.RIGHT){var today=new Date();$input.val(today.getDate().toString()+(today.getMonth()+1).toString()+today.getFullYear().toString());}},definitions:{'1':{validator:function(chrs,buffer,pos,strict,opts){var isValid=opts.regex.val1.test(chrs);if(!strict&&!isValid){if(chrs.charAt(1)==opts.separator||"-./".indexOf(chrs.charAt(1))!=-1){isValid=opts.regex.val1.test("0"+chrs.charAt(0));if(isValid){buffer[pos-1]="0";return{"pos":pos,"c":chrs.charAt(0)};}}}
return isValid;},cardinality:2,prevalidator:[{validator:function(chrs,buffer,pos,strict,opts){var isValid=opts.regex.val1pre.test(chrs);if(!strict&&!isValid){isValid=opts.regex.val1.test("0"+chrs);if(isValid){buffer[pos]="0";pos++;return{"pos":pos};}}
return isValid;},cardinality:1}]},'2':{validator:function(chrs,buffer,pos,strict,opts){var frontValue=buffer.join('').substr(0,3);if(frontValue.indexOf(opts.placeholder[0])!=-1)frontValue="01"+opts.separator;var isValid=opts.regex.val2(opts.separator).test(frontValue+chrs);if(!strict&&!isValid){if(chrs.charAt(1)==opts.separator||"-./".indexOf(chrs.charAt(1))!=-1){isValid=opts.regex.val2(opts.separator).test(frontValue+"0"+chrs.charAt(0));if(isValid){buffer[pos-1]="0";return{"pos":pos,"c":chrs.charAt(0)};}}}
return isValid;},cardinality:2,prevalidator:[{validator:function(chrs,buffer,pos,strict,opts){var frontValue=buffer.join('').substr(0,3);if(frontValue.indexOf(opts.placeholder[0])!=-1)frontValue="01"+opts.separator;var isValid=opts.regex.val2pre(opts.separator).test(frontValue+chrs);if(!strict&&!isValid){isValid=opts.regex.val2(opts.separator).test(frontValue+"0"+chrs);if(isValid){buffer[pos]="0";pos++;return{"pos":pos};}}
return isValid;},cardinality:1}]},'y':{validator:function(chrs,buffer,pos,strict,opts){if(opts.isInYearRange(chrs,opts.yearrange.minyear,opts.yearrange.maxyear)){var dayMonthValue=buffer.join('').substr(0,6);if(dayMonthValue!=opts.leapday)
return true;else{var year=parseInt(chrs,10);if(year%4===0)
if(year%100===0)
if(year%400===0)
return true;else return false;else return true;else return false;}}else return false;},cardinality:4,prevalidator:[{validator:function(chrs,buffer,pos,strict,opts){var isValid=opts.isInYearRange(chrs,opts.yearrange.minyear,opts.yearrange.maxyear);if(!strict&&!isValid){var yearPrefix=opts.determinebaseyear(opts.yearrange.minyear,opts.yearrange.maxyear,chrs+"0").toString().slice(0,1);isValid=opts.isInYearRange(yearPrefix+chrs,opts.yearrange.minyear,opts.yearrange.maxyear);if(isValid){buffer[pos++]=yearPrefix[0];return{"pos":pos};}
yearPrefix=opts.determinebaseyear(opts.yearrange.minyear,opts.yearrange.maxyear,chrs+"0").toString().slice(0,2);isValid=opts.isInYearRange(yearPrefix+chrs,opts.yearrange.minyear,opts.yearrange.maxyear);if(isValid){buffer[pos++]=yearPrefix[0];buffer[pos++]=yearPrefix[1];return{"pos":pos};}}
return isValid;},cardinality:1},{validator:function(chrs,buffer,pos,strict,opts){var isValid=opts.isInYearRange(chrs,opts.yearrange.minyear,opts.yearrange.maxyear);if(!strict&&!isValid){var yearPrefix=opts.determinebaseyear(opts.yearrange.minyear,opts.yearrange.maxyear,chrs).toString().slice(0,2);isValid=opts.isInYearRange(chrs[0]+yearPrefix[1]+chrs[1],opts.yearrange.minyear,opts.yearrange.maxyear);if(isValid){buffer[pos++]=yearPrefix[1];return{"pos":pos};}
yearPrefix=opts.determinebaseyear(opts.yearrange.minyear,opts.yearrange.maxyear,chrs).toString().slice(0,2);if(opts.isInYearRange(yearPrefix+chrs,opts.yearrange.minyear,opts.yearrange.maxyear)){var dayMonthValue=buffer.join('').substr(0,6);if(dayMonthValue!=opts.leapday)
isValid=true;else{var year=parseInt(chrs,10);if(year%4===0)
if(year%100===0)
if(year%400===0)
isValid=true;else isValid=false;else isValid=true;else isValid=false;}}else isValid=false;if(isValid){buffer[pos-1]=yearPrefix[0];buffer[pos++]=yearPrefix[1];buffer[pos++]=chrs[0];return{"pos":pos};}}
return isValid;},cardinality:2},{validator:function(chrs,buffer,pos,strict,opts){return opts.isInYearRange(chrs,opts.yearrange.minyear,opts.yearrange.maxyear);},cardinality:3}]}},insertMode:false,autoUnmask:false},'mm/dd/yyyy':{placeholder:"mm/dd/yyyy",alias:"dd/mm/yyyy",regex:{val2pre:function(separator){var escapedSeparator=$.inputmask.escapeRegex.call(this,separator);return new RegExp("((0[13-9]|1[012])"+escapedSeparator+"[0-3])|(02"+escapedSeparator+"[0-2])");},val2:function(separator){var escapedSeparator=$.inputmask.escapeRegex.call(this,separator);return new RegExp("((0[1-9]|1[012])"+escapedSeparator+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+escapedSeparator+"30)|((0[13578]|1[02])"+escapedSeparator+"31)");},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyUp:function(e,buffer,opts){var $input=$(this);if(e.ctrlKey&&e.keyCode==opts.keyCode.RIGHT){var today=new Date();$input.val((today.getMonth()+1).toString()+today.getDate().toString()+today.getFullYear().toString());}}},'yyyy/mm/dd':{mask:"y/1/2",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",leapday:"/02/29",onKeyUp:function(e,buffer,opts){var $input=$(this);if(e.ctrlKey&&e.keyCode==opts.keyCode.RIGHT){var today=new Date();$input.val(today.getFullYear().toString()+(today.getMonth()+1).toString()+today.getDate().toString());}},definitions:{'2':{validator:function(chrs,buffer,pos,strict,opts){var frontValue=buffer.join('').substr(5,3);if(frontValue.indexOf(opts.placeholder[5])!=-1)frontValue="01"+opts.separator;var isValid=opts.regex.val2(opts.separator).test(frontValue+chrs);if(!strict&&!isValid){if(chrs.charAt(1)==opts.separator||"-./".indexOf(chrs.charAt(1))!=-1){isValid=opts.regex.val2(opts.separator).test(frontValue+"0"+chrs.charAt(0));if(isValid){buffer[pos-1]="0";return{"pos":pos,"c":chrs.charAt(0)};}}}
if(isValid){var dayMonthValue=buffer.join('').substr(4,4)+chrs;if(dayMonthValue!=opts.leapday)
return true;else{var year=parseInt(buffer.join('').substr(0,4),10);if(year%4===0)
if(year%100===0)
if(year%400===0)
return true;else return false;else return true;else return false;}}
return isValid;},cardinality:2,prevalidator:[{validator:function(chrs,buffer,pos,strict,opts){var frontValue=buffer.join('').substr(5,3);if(frontValue.indexOf(opts.placeholder[5])!=-1)frontValue="01"+opts.separator;var isValid=opts.regex.val2pre(opts.separator).test(frontValue+chrs);if(!strict&&!isValid){isValid=opts.regex.val2(opts.separator).test(frontValue+"0"+chrs);if(isValid){buffer[pos]="0";pos++;return{"pos":pos};}}
return isValid;},cardinality:1}]}}},'dd.mm.yyyy':{mask:"1.2.y",placeholder:"dd.mm.yyyy",leapday:"29.02.",separator:'.',alias:"dd/mm/yyyy"},'dd-mm-yyyy':{mask:"1-2-y",placeholder:"dd-mm-yyyy",leapday:"29-02-",separator:'-',alias:"dd/mm/yyyy"},'mm.dd.yyyy':{mask:"1.2.y",placeholder:"mm.dd.yyyy",leapday:"02.29.",separator:'.',alias:"mm/dd/yyyy"},'mm-dd-yyyy':{mask:"1-2-y",placeholder:"mm-dd-yyyy",leapday:"02-29-",separator:'-',alias:"mm/dd/yyyy"},'yyyy.mm.dd':{mask:"y.1.2",placeholder:"yyyy.mm.dd",leapday:".02.29",separator:'.',alias:"yyyy/mm/dd"},'yyyy-mm-dd':{mask:"y-1-2",placeholder:"yyyy-mm-dd",leapday:"-02-29",separator:'-',alias:"yyyy/mm/dd"},'datetime':{mask:"1/2/y h:s",placeholder:"dd/mm/yyyy hh:mm",alias:"dd/mm/yyyy",regex:{hrspre:new RegExp("[012]"),hrs24:new RegExp("2[0-9]|1[3-9]"),hrs:new RegExp("[01][0-9]|2[0-3]"),ampm:new RegExp("^[a|p|A|P][m|M]")},timeseparator:':',hourFormat:"24",definitions:{'h':{validator:function(chrs,buffer,pos,strict,opts){var isValid=opts.regex.hrs.test(chrs);if(!strict&&!isValid){if(chrs.charAt(1)==opts.timeseparator||"-.:".indexOf(chrs.charAt(1))!=-1){isValid=opts.regex.hrs.test("0"+chrs.charAt(0));if(isValid){buffer[pos-1]="0";buffer[pos]=chrs.charAt(0);pos++;return{"pos":pos};}}}
if(isValid&&opts.hourFormat!=="24"&&opts.regex.hrs24.test(chrs)){var tmp=parseInt(chrs,10);if(tmp==24){buffer[pos+5]="a";buffer[pos+6]="m";}else{buffer[pos+5]="p";buffer[pos+6]="m";}
tmp=tmp-12;if(tmp<10){buffer[pos]=tmp.toString();buffer[pos-1]="0";}else{buffer[pos]=tmp.toString().charAt(1);buffer[pos-1]=tmp.toString().charAt(0);}
return{"pos":pos,"c":buffer[pos]};}
return isValid;},cardinality:2,prevalidator:[{validator:function(chrs,buffer,pos,strict,opts){var isValid=opts.regex.hrspre.test(chrs);if(!strict&&!isValid){isValid=opts.regex.hrs.test("0"+chrs);if(isValid){buffer[pos]="0";pos++;return{"pos":pos};}}
return isValid;},cardinality:1}]},'t':{validator:function(chrs,buffer,pos,strict,opts){return opts.regex.ampm.test(chrs+"m");},casing:"lower",cardinality:1}},insertMode:false,autoUnmask:false},'datetime12':{mask:"1/2/y h:s t\\m",placeholder:"dd/mm/yyyy hh:mm xm",alias:"datetime",hourFormat:"12"},'hh:mm t':{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},'h:s t':{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},'hh:mm:ss':{mask:"h:s:s",autoUnmask:false},'hh:mm':{mask:"h:s",autoUnmask:false},'date':{alias:"dd/mm/yyyy"},'mm/yyyy':{mask:"1/y",placeholder:"mm/yyyy",leapday:"donotuse",separator:'/',alias:"mm/dd/yyyy"}});})(jQuery);(function($){$.extend($.inputmask.defaults.aliases,{'decimal':{mask:"~",placeholder:"",repeat:"*",greedy:false,numericInput:false,isNumeric:true,digits:"*",groupSeparator:"",radixPoint:".",groupSize:3,autoGroup:false,allowPlus:true,allowMinus:true,integerDigits:"*",defaultValue:"",prefix:"",suffix:"",getMaskLength:function(buffer,greedy,repeat,currentBuffer,opts){var calculatedLength=buffer.length;if(!greedy){if(repeat=="*"){calculatedLength=currentBuffer.length+1;}else if(repeat>1){calculatedLength+=(buffer.length*(repeat-1));}}
var escapedGroupSeparator=$.inputmask.escapeRegex.call(this,opts.groupSeparator);var escapedRadixPoint=$.inputmask.escapeRegex.call(this,opts.radixPoint);var currentBufferStr=currentBuffer.join(''),strippedBufferStr=currentBufferStr.replace(new RegExp(escapedGroupSeparator,"g"),"").replace(new RegExp(escapedRadixPoint),""),groupOffset=currentBufferStr.length-strippedBufferStr.length;return calculatedLength+groupOffset;},postFormat:function(buffer,pos,reformatOnly,opts){if(opts.groupSeparator=="")return pos;var cbuf=buffer.slice(),radixPos=$.inArray(opts.radixPoint,buffer);if(!reformatOnly){cbuf.splice(pos,0,"?");}
var bufVal=cbuf.join('');if(opts.autoGroup||(reformatOnly&&bufVal.indexOf(opts.groupSeparator)!=-1)){var escapedGroupSeparator=$.inputmask.escapeRegex.call(this,opts.groupSeparator);bufVal=bufVal.replace(new RegExp(escapedGroupSeparator,"g"),'');var radixSplit=bufVal.split(opts.radixPoint);bufVal=radixSplit[0];var reg=new RegExp('([-\+]?[\\d\?]+)([\\d\?]{'+opts.groupSize+'})');while(reg.test(bufVal)){bufVal=bufVal.replace(reg,'$1'+opts.groupSeparator+'$2');bufVal=bufVal.replace(opts.groupSeparator+opts.groupSeparator,opts.groupSeparator);}
if(radixSplit.length>1)
bufVal+=opts.radixPoint+radixSplit[1];}
buffer.length=bufVal.length;for(var i=0,l=bufVal.length;i<l;i++){buffer[i]=bufVal.charAt(i);}
var newPos=$.inArray("?",buffer);if(!reformatOnly)buffer.splice(newPos,1);return reformatOnly?pos:newPos;},regex:{number:function(opts){var escapedRadixPoint=$.inputmask.escapeRegex.call(this,opts.radixPoint);var digitExpression=isNaN(opts.digits)?opts.digits:'{0,'+opts.digits+'}';var integerExpression=isNaN(opts.integerDigits)?opts.integerDigits:'{1,'+opts.integerDigits+'}';var signedExpression=opts.allowPlus||opts.allowMinus?"["+(opts.allowPlus?"\+":"")+(opts.allowMinus?"-":"")+"]?":"";var currentRegExp="^"+signedExpression+"\\d"+integerExpression+"("+escapedRadixPoint+"\\d"+digitExpression+")?$";return new RegExp(currentRegExp);}},onKeyDown:function(e,buffer,opts){var $input=$(this),input=this;if(e.keyCode==opts.keyCode.TAB){var radixPosition=$.inArray(opts.radixPoint,buffer);if(radixPosition!=-1){var masksets=$input.data('_inputmask')['masksets'];var activeMasksetIndex=$input.data('_inputmask')['activeMasksetIndex'];for(var i=1;i<=opts.digits&&i<opts.getMaskLength(masksets[activeMasksetIndex]["_buffer"],masksets[activeMasksetIndex]["greedy"],masksets[activeMasksetIndex]["repeat"],buffer,opts);i++){if(buffer[radixPosition+i]==undefined||buffer[radixPosition+i]=="")buffer[radixPosition+i]="0";}
input._valueSet(buffer.join(''));}}else if(e.keyCode==opts.keyCode.DELETE||e.keyCode==opts.keyCode.BACKSPACE){opts.postFormat(buffer,0,true,opts);input._valueSet(buffer.join(''));return true;}},definitions:{'~':{validator:function(chrs,buffer,pos,strict,opts){var iopts=$.extend({},opts,{digits:strict?"*":opts.digits});if(chrs=="")return false;if(!strict&&pos<=1&&buffer[0]==='0'&&new RegExp("[\\d-]").test(chrs)&&buffer.join('').length==1){buffer[0]="";return{"pos":0};}
var cbuf=strict?buffer.slice(0,pos):buffer.slice();cbuf.splice(pos,0,chrs);var bufferStr=cbuf.join('');var escapedGroupSeparator=$.inputmask.escapeRegex.call(this,opts.groupSeparator);bufferStr=bufferStr.replace(new RegExp(escapedGroupSeparator,"g"),'');if(strict&&bufferStr.lastIndexOf(opts.radixPoint)==bufferStr.length-1){var escapedRadixPoint=$.inputmask.escapeRegex.call(this,opts.radixPoint);bufferStr=bufferStr.replace(new RegExp(escapedRadixPoint,"g"),'');}
if(!strict&&bufferStr=="")return false;var isValid=opts.regex.number(iopts).test(bufferStr);if(!isValid){bufferStr+="0";isValid=opts.regex.number(iopts).test(bufferStr);if(!isValid){var lastGroupSeparator=bufferStr.lastIndexOf(opts.groupSeparator);for(var i=bufferStr.length-lastGroupSeparator;i<=3;i++){bufferStr+="0";}
isValid=opts.regex.number(iopts).test(bufferStr);if(!isValid&&!strict){if(chrs==opts.radixPoint){isValid=opts.regex.number(iopts).test("0"+bufferStr+"0");if(isValid){buffer[pos]="0";pos++;return{"pos":pos};}}}}}
if(isValid!=false&&!strict&&chrs!=opts.radixPoint){var newPos=opts.postFormat(buffer,pos,(chrs=="-"||chrs=="+")?true:false,opts);return{"pos":newPos};}
return isValid;},cardinality:1,prevalidator:null}},insertMode:true,autoUnmask:false},'integer':{regex:{number:function(opts){var escapedGroupSeparator=$.inputmask.escapeRegex.call(this,opts.groupSeparator);var signedExpression=opts.allowPlus||opts.allowMinus?"["+(opts.allowPlus?"\+":"")+(opts.allowMinus?"-":"")+"]?":"";return new RegExp("^"+signedExpression+"(\\d+|\\d{1,"+opts.groupSize+"}(("+escapedGroupSeparator+"\\d{"+opts.groupSize+"})?)+)$");}},alias:"decimal"}});})(jQuery);(function($){$.extend($.inputmask.defaults.aliases,{'Regex':{mask:"r",greedy:false,repeat:"*",regex:null,regexTokens:null,tokenizer:/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,quantifierFilter:/[0-9]+[^,]/,isComplete:function(buffer,opts){return new RegExp(opts.regex).test(buffer.join(''));},definitions:{'r':{validator:function(chrs,buffer,pos,strict,opts){function regexToken(isGroup,isQuantifier){this.matches=[];this.isGroup=isGroup||false;this.isQuantifier=isQuantifier||false;this.quantifier={min:1,max:1};this.repeaterPart=undefined;}
function analyseRegex(){var currentToken=new regexToken(),match,m,opengroups=[];opts.regexTokens=[];while(match=opts.tokenizer.exec(opts.regex)){m=match[0];switch(m.charAt(0)){case"(":opengroups.push(new regexToken(true));break;case")":var groupToken=opengroups.pop();if(opengroups.length>0){opengroups[opengroups.length-1]["matches"].push(groupToken);}else{currentToken.matches.push(groupToken);}
break;case"{":case"+":case"*":var quantifierToken=new regexToken(false,true);m=m.replace(/[{}]/g,"");var mq=m.split(","),mq0=isNaN(mq[0])?mq[0]:parseInt(mq[0]),mq1=mq.length==1?mq0:(isNaN(mq[1])?mq[1]:parseInt(mq[1]));quantifierToken.quantifier={min:mq0,max:mq1};if(opengroups.length>0){var matches=opengroups[opengroups.length-1]["matches"];match=matches.pop();if(!match["isGroup"]){var groupToken=new regexToken(true);groupToken.matches.push(match);match=groupToken;}
matches.push(match);matches.push(quantifierToken);}else{match=currentToken.matches.pop();if(!match["isGroup"]){var groupToken=new regexToken(true);groupToken.matches.push(match);match=groupToken;}
currentToken.matches.push(match);currentToken.matches.push(quantifierToken);}
break;default:if(opengroups.length>0){opengroups[opengroups.length-1]["matches"].push(m);}else{currentToken.matches.push(m);}
break;}}
if(currentToken.matches.length>0)
opts.regexTokens.push(currentToken);};function validateRegexToken(token,fromGroup){var isvalid=false;if(fromGroup){regexPart+="(";openGroupCount++;}
for(var mndx=0;mndx<token["matches"].length;mndx++){var matchToken=token["matches"][mndx];if(matchToken["isGroup"]==true){isvalid=validateRegexToken(matchToken,true);}else if(matchToken["isQuantifier"]==true){var crrntndx=token["matches"].indexOf(matchToken),matchGroup=token["matches"][crrntndx-1];var regexPartBak=regexPart;if(isNaN(matchToken.quantifier.max)){while(matchToken["repeaterPart"]&&matchToken["repeaterPart"]!=regexPart&&matchToken["repeaterPart"].length>regexPart.length){isvalid=validateRegexToken(matchGroup,true);if(isvalid)break;}
isvalid=isvalid||validateRegexToken(matchGroup,true);if(isvalid)matchToken["repeaterPart"]=regexPart;regexPart=regexPartBak+matchToken.quantifier.max;}else{for(var i=0,qm=matchToken.quantifier.max-1;i<qm;i++){isvalid=validateRegexToken(matchGroup,true);if(isvalid)break;}
regexPart=regexPartBak+"{"+matchToken.quantifier.min+","+matchToken.quantifier.max+"}";}}else if(matchToken["matches"]!=undefined){for(var k=0;k<matchToken.length;k++){isvalid=validateRegexToken(matchToken[k],fromGroup);if(isvalid)break;}}else{var testExp;if(matchToken[0]=="["){testExp=regexPart;testExp+=matchToken;for(var j=0;j<openGroupCount;j++){testExp+=")";}
var exp=new RegExp("^("+testExp+")$");isvalid=exp.test(bufferStr);}else{for(var l=0,tl=matchToken.length;l<tl;l++){if(matchToken[l]=="\\")continue;testExp=regexPart;testExp+=matchToken.substr(0,l+1);testExp=testExp.replace(/\|$/,"");for(var j=0;j<openGroupCount;j++){testExp+=")";}
var exp=new RegExp("^("+testExp+")$");isvalid=exp.test(bufferStr);if(isvalid)break;}}
regexPart+=matchToken;}
if(isvalid)break;}
if(fromGroup){regexPart+=")";openGroupCount--;}
return isvalid;}
if(opts.regexTokens==null){analyseRegex();}
var cbuffer=buffer.slice(),regexPart="",isValid=false,openGroupCount=0;cbuffer.splice(pos,0,chrs);var bufferStr=cbuffer.join('');for(var i=0;i<opts.regexTokens.length;i++){var regexToken=opts.regexTokens[i];isValid=validateRegexToken(regexToken,regexToken["isGroup"]);if(isValid)break;}
return isValid;},cardinality:1}}}});})(jQuery);(function($){$.extend($.inputmask.defaults.aliases,{'phone':{url:"phone-codes/phone-codes.json",mask:function(opts){opts.definitions={'p':{validator:function(){return false;},cardinality:1},'#':{validator:"[0-9]",cardinality:1}};var maskList=[];$.ajax({url:opts.url,async:false,dataType:'json',success:function(response){maskList=response;}});maskList.splice(0,0,"+p(ppp)ppp-pppp");return maskList;}}});})(jQuery);
